<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title></title>
    <link>/</link>
      <atom:link href="/index.xml" rel="self" type="application/rss+xml" />
    <description></description>
    <generator>Wowchemy (https://wowchemy.com)</generator><language>en-us</language><lastBuildDate>Sat, 01 Feb 2020 00:00:00 +0000</lastBuildDate>
    <image>
      <url>/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_512x512_fill_lanczos_center_3.png</url>
      <title></title>
      <link>/</link>
    </image>
    
    <item>
      <title>Sub-method, partial behavioral reflection with Reflectivity: Looking back on 10 years of use</title>
      <link>/publication/programming-20/</link>
      <pubDate>Sat, 01 Feb 2020 00:00:00 +0000</pubDate>
      <guid>/publication/programming-20/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Illicium A modular transpilation toolchain from Pharo to C</title>
      <link>/publication/iwst-19/</link>
      <pubDate>Thu, 01 Aug 2019 00:00:00 +0000</pubDate>
      <guid>/publication/iwst-19/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Sindarin: A Versatile Scripting API for the Pharo Debugger</title>
      <link>/publication/sdl-19/</link>
      <pubDate>Tue, 01 Jan 2019 00:00:00 +0000</pubDate>
      <guid>/publication/sdl-19/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Teaching</title>
      <link>/teaching/</link>
      <pubDate>Tue, 01 Jan 2019 00:00:00 +0000</pubDate>
      <guid>/teaching/</guid>
      <description>&lt;p&gt;Since the beginning of my PhD, I&amp;rsquo;m an assistant teacher. I have given courses to
the &lt;a href=&#34;http://www.univ-lille1.fr/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;University Lille 1&lt;/a&gt; from 2008 to 2011, the &lt;a href=&#34;http://www.iut.univ-lille1.fr/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;University Institute of Technology of
Lille 1&lt;/a&gt; from 2011 to 2012, and since 2012, I teach to &lt;a href=&#34;http://www.polytech-lille.fr/ecole-d-ingenieurs.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Polytech&amp;rsquo;Lille&lt;/a&gt; (Engineer School):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Polytech&amp;rsquo;Lille
&lt;ul&gt;
&lt;li&gt;Model Driven Engineering&lt;/li&gt;
&lt;li&gt;Advanced C Programming&lt;/li&gt;
&lt;li&gt;System Programming&lt;/li&gt;
&lt;li&gt;Language &amp;amp; Compiler&lt;/li&gt;
&lt;li&gt;Computer/System Architecture&lt;/li&gt;
&lt;li&gt;Low-Level Architecture&lt;/li&gt;
&lt;li&gt;Shell Programming&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;IUT of Lille:
&lt;ul&gt;
&lt;li&gt;Computer Architecture/Assembly Programming&lt;/li&gt;
&lt;li&gt;C Programming&lt;/li&gt;
&lt;li&gt;Advanced Data Structures&lt;/li&gt;
&lt;li&gt;Computer Sciences Basics&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;University of Lille:
&lt;ul&gt;
&lt;li&gt;Functionnal Programming&lt;/li&gt;
&lt;li&gt;Operating System Architecture&lt;/li&gt;
&lt;li&gt;Advanced Database&lt;/li&gt;
&lt;li&gt;C Programming&lt;/li&gt;
&lt;li&gt;Programming Langages Paradigmes&lt;/li&gt;
&lt;li&gt;Metamodeling&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;teaching&#34;&gt;Service details (in French)&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>MDE Collaboration: Temporality and Ergonomy in the Cloud, the GenMyModel Solution</title>
      <link>/talk/commitmde-talk/</link>
      <pubDate>Tue, 04 Oct 2016 16:00:00 +0000</pubDate>
      <guid>/talk/commitmde-talk/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Towards an automation of the mutation analysis dedicated to model transformation</title>
      <link>/publication/stvr15/</link>
      <pubDate>Thu, 01 Jan 2015 00:00:00 +0000</pubDate>
      <guid>/publication/stvr15/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Integrating Profiling into MDE Compilers</title>
      <link>/publication/ijsea14/</link>
      <pubDate>Tue, 01 Jul 2014 00:00:00 +0000</pubDate>
      <guid>/publication/ijsea14/</guid>
      <description></description>
    </item>
    
    <item>
      <title>GenMyModel : An Online UML Case Tool</title>
      <link>/publication/ecoop-13/</link>
      <pubDate>Tue, 01 Jan 2013 00:00:00 +0000</pubDate>
      <guid>/publication/ecoop-13/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Using Feature Model to Build Model Transformation Chains</title>
      <link>/publication/models-12/</link>
      <pubDate>Mon, 01 Oct 2012 00:00:00 +0000</pubDate>
      <guid>/publication/models-12/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Chaining Model Transformations</title>
      <link>/publication/amt-12/</link>
      <pubDate>Sun, 01 Jan 2012 00:00:00 +0000</pubDate>
      <guid>/publication/amt-12/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Enabling Traceability in an MDE Approach to Improve Performance of GPU Applications</title>
      <link>/publication/rr-11/</link>
      <pubDate>Mon, 01 Aug 2011 00:00:00 +0000</pubDate>
      <guid>/publication/rr-11/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Using Trace to Situate Errors in Model Transformations</title>
      <link>/publication/sdt11/</link>
      <pubDate>Fri, 01 Apr 2011 00:00:00 +0000</pubDate>
      <guid>/publication/sdt11/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Using an Alternative Trace for QVT</title>
      <link>/publication/eceasst/</link>
      <pubDate>Sat, 01 Jan 2011 00:00:00 +0000</pubDate>
      <guid>/publication/eceasst/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Traceability for Mutation Analysis in Model Transformation</title>
      <link>/publication/modevva-10-b/</link>
      <pubDate>Fri, 01 Oct 2010 00:00:00 +0000</pubDate>
      <guid>/publication/modevva-10-b/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Using an Alternative Trace for QVT</title>
      <link>/publication/mpm10/</link>
      <pubDate>Fri, 01 Oct 2010 00:00:00 +0000</pubDate>
      <guid>/publication/mpm10/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Using Traceability to Enhance Mutation Analysis Dedicated to Model Transformation</title>
      <link>/publication/modevva-10/</link>
      <pubDate>Fri, 01 Oct 2010 00:00:00 +0000</pubDate>
      <guid>/publication/modevva-10/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Traceability mechanism for error localization in model transformation</title>
      <link>/publication/icsoft-09/</link>
      <pubDate>Wed, 01 Jul 2009 00:00:00 +0000</pubDate>
      <guid>/publication/icsoft-09/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Modeling Uncertain and Imprecise Information in Process Modeling with UML</title>
      <link>/publication/comad-08/</link>
      <pubDate>Tue, 01 Jan 2008 00:00:00 +0000</pubDate>
      <guid>/publication/comad-08/</guid>
      <description></description>
    </item>
    
    <item>
      <title></title>
      <link>/courses/c3p/chip8/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/courses/c3p/chip8/</guid>
      <description>&lt;div id=&#34;preamble&#34;&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Le but de ce TP est de proposer un désassembleur chip8, c’est-à-dire un programme capable de lire
des programmes (ROM) pour plateforme à base de chip8 et de proposer le code assembleur représenté
sous forme textuelle plutôt que sous forme numérique.
Le chip8 n’est pas un processeur, mais plus l’équivalent d’une machine virtuelle. Néanmoins, son
architecture et son mode de fonctionnement sont assez proche de ce que l’on peut trouver dans un
processeurs.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_représentation_dune_machine&#34;&gt;Représentation d’une machine&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Une machine chip8 est constituée (entre autre) :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;ulist&#34;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;d’une mémoire,&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;d’un ensemble de 16 registres (notés &lt;code&gt;V1&lt;/code&gt;, …​, &lt;code&gt;VF&lt;/code&gt; ) de 8bits,&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;d’un pseudo-registre d’accés à la mémoire &lt;code&gt;I&lt;/code&gt; de 12bits,&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;d’un “programme counter” (&lt;code&gt;PC&lt;/code&gt;) de 16bits.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;&lt;em&gt;Note&lt;/em&gt; : le chip8 n’est capable de “comprendre” que des entiers positifs, on ne travaillera donc que sur des valeur &lt;code&gt;unsigned&lt;/code&gt; systématiquement (dans les structures, variables locales et paramètres). Par exemple : &lt;code&gt;unsigned short&lt;/code&gt;…​&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Le chip8 est capable d’accéder à 4096 octets de RAM, depuis l’adresse &lt;code&gt;0x000&lt;/code&gt; (0) à &lt;code&gt;0xFFF&lt;/code&gt; (4095).
Le pseudo-registre &lt;code&gt;PC&lt;/code&gt; sert à stocker l’adresse de l’instruction en mémoire qui va être exécutée.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Pour proposer une structure capable de représenter une machine Chip8, il faut pouvoir être capable de représenter toutes les composantes de la machine dans une structure. De combien de champs va-t-on avoir besoin dans cette structure et quels vont être leurs types ?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une structure capable de représenter une machine Chip8.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Comme la plupart des APIs qui manipulent des données en C et en procédural, il est nécessaire de donner 2 fonctions principales :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;ulist&#34;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;une fonction pour la création des donnée,&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;une fonction pour l’initialisation de la donnée créée.&lt;/p&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une fonction qui permet de créer une donnée de la structure que vous avez définit précédemment.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une fonction qui va initialiser la donnée créée, c’est-à-dire, qui va initialiser tout les champs de la structure aux bonnes valeurs de départ (en général, tout à 0).&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_chargement_dune_rom&#34;&gt;Chargement d’une ROM&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Vous pourrez trouver des ROM pour chip8 un peu partout sur le net (ex: &lt;a href=&#34;https://www.zophar.net/pdroms/chip8.html&#34; class=&#34;bare&#34;&gt;https://www.zophar.net/pdroms/chip8.html&lt;/a&gt;).
Vérifier juste qu’il sagit bien de ROM pour le chip8 et pas le super chip8.
Une ROM est l’équivalent d’un &amp;#34;morceau de mémoire&amp;#34; mis dans un fichier.
Cela signifie qu’elle contient l’état de la mémoire à un instant précis.
En conséquence, lorsque l’on veut charger une ROM, il convient donc de lire le fichier contenant la ROM et de le stocker dans la mémoire de notre Chip8 (donc dans le champs mémoire de notre donnée représentant le Chip8).
Le chargement d’une ROM se fait par lecture du fichier en mode binaire, puis en lisant octet par octet.
Chaque octet est stocké dans la mémoire de la machine à partir de l’adresse &lt;code&gt;0x200&lt;/code&gt; (contrainte du chip8).&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une fonction qui lit un fichier contenant une ROM et la stocke dans la mémoire d’une machine (rappel : vous utiliserez les fonctions &lt;code&gt;fopen&lt;/code&gt;, &lt;code&gt;fread&lt;/code&gt; et &lt;code&gt;fclose&lt;/code&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_décodage_dune_instruction&#34;&gt;Décodage d’une instruction&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Une instruction chip8 est codée sur 16bits (2 octets). Par exemple : &lt;code&gt;0x00E0&lt;/code&gt; représente l’instruction qui demande l’effacement de l’écran.
Lorsque l’on veut décoder une instruction, il est donc nécessaire de lire 2 octets (2 &lt;code&gt;unsigned chars&lt;/code&gt;) en mémoire à l’adresse pointé par &lt;code&gt;PC&lt;/code&gt;, et de placer les 2 octets dans une seule variable de plus grande capacité (&lt;code&gt;unsigned short&lt;/code&gt;).&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Proposez une fonction qui prend deux &lt;code&gt;unsigned char&lt;/code&gt; en paramètre et qui retourne le résultat &amp;#34;concaténé&amp;#34; des 2 &lt;code&gt;unsigned chars&lt;/code&gt;. Par exemple, avec &lt;code&gt;a = 0xAB&lt;/code&gt; et &lt;code&gt;b = 0xCD&lt;/code&gt;, le résultat sera une variable de type &lt;code&gt;unsigned short&lt;/code&gt; avec &lt;code&gt;0xABCD&lt;/code&gt;. Pour pouvoir faire ceci, il est nécessaire d’effectuer des opérations de décalage binaire et de jouer avec l’opération &lt;code&gt;||&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une fonction qui retourne l’instruction (le &lt;code&gt;unsigned short&lt;/code&gt;) présente en mémoire d’une machine à l’adresse indiquée par &lt;code&gt;PC&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_anatomie_dune_instruction&#34;&gt;Anatomie d’une instruction&lt;/h3&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Une instruction peut être constituée d’un certains nombre de morceaux qui donne des informations sur l’action qu’elle représente.
Par exemple &lt;code&gt;0x6633&lt;/code&gt; représente le chargement de la valeur &lt;code&gt;0x33&lt;/code&gt; dans le registre &lt;code&gt;V6&lt;/code&gt;.
De manière un peu plus générale, les instructions qui ont la forme &lt;code&gt;0x6RJJ&lt;/code&gt; représente le chargement d’une valeur &lt;code&gt;0xJJ&lt;/code&gt; dans le registre &lt;code&gt;VR&lt;/code&gt;.
Nous n’allons pas décoder toutes les instructions chip8 (il en existe 35), mais juste quelques unes (vous pouvez toutes les faire si vous le souhaitez).
Le but des fonctions suivante vont être de produire un affichage plus intelligible que &lt;code&gt;0x6633&lt;/code&gt; en affichant &lt;code&gt;mov V6, 0x33&lt;/code&gt; (si l’on reprend l’exemple précédent).&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Les instructions que nous allons décoder sont les suivantes :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;highlight&#34;&gt;&lt;code&gt;0x00E0  → CLS
0xBjjj  → JMP jjj
0x6rjj  → MOV Vr, jj
0x7rjj  → ADD Vr, jj
0x8ry4  → ADD Vr, Vy
0xAjjj  → MOV I, jjj
UNKNOWN → fonction de fallback si inst pas encore codé&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Pour simplifier l’identification de chaque informations de chaque instructions, vous allez écrire 4 fonctions : &lt;code&gt;part1&lt;/code&gt;, &lt;code&gt;part2&lt;/code&gt;, &lt;code&gt;part3&lt;/code&gt; et &lt;code&gt;part4&lt;/code&gt; qui vont isoler une partie des bits du &lt;code&gt;unsigned short&lt;/code&gt; passé en paramètre de la fonction.
Par exemple : &lt;code&gt;part1(0x6234)&lt;/code&gt; va retourner &lt;code&gt;0x6000&lt;/code&gt;, &lt;code&gt;part3(0x6234)&lt;/code&gt; va retourner &lt;code&gt;0x0200&lt;/code&gt;…​etc&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Écrivez les fonction &lt;code&gt;part1&lt;/code&gt;, &lt;code&gt;part2&lt;/code&gt;, &lt;code&gt;part3&lt;/code&gt; et &lt;code&gt;part4&lt;/code&gt; (vous utiliserez des masques pour faire ceci).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Proposez une fonction par instruction qui prend l’entier représentant l’instruction en paramètre et propose un affichage de en mode texte (on sait que l’instruction sera la bonne passée en paramètre, pas besoin de tester ici).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Proposez une fonction qui exécute la bonne fonction d’affichage en fonction de l’instruction passée
en paramètre. si l’instruction n’est pas encore connue, alors la fonction de fallback est appelée.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_dump_de_la_mémoire&#34;&gt;Dump de la mémoire&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Il faut maintenant mettre tout en commun pour proposer un dump de la mémoire. La boucle de décodage suit la logique suivante :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;highlight&#34;&gt;&lt;code&gt;pour i = 0..fin de la mémoire:
    inst = fetch_inst(machine)
    decode_affiche(inst)
    machine.PC = machine.PC + 1&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une fonction qui code ce comportement&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Écrivez le &lt;code&gt;main&lt;/code&gt; terminal qui prend en paramètre de la ligne de commande une ROM à dump&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_sil_vous_reste_du_temps&#34;&gt;S’il vous reste du temps&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Vous pouvez implémenter l’affichage des autres instructions.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Pour l’instant, l’algo de dump balaye toute la mémoire même si la ROM chargée est petite. Trouvez un moyen de ne parcourir que l’équivalent du programme chargé en mémoire plutôt que tout.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Vous pouvez aussi code le comportement des instructions et leur impact sur la machine faisant tourner le code (assignation de registres, affichage en mode texte…​etc). De cette façon, vous pouvez coder un émulateur Chip8 quasi complet.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title></title>
      <link>/courses/c3p/matlpython/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/courses/c3p/matlpython/</guid>
      <description>&lt;div id=&#34;preamble&#34;&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Dans ce TP, nous allons revenir sur MatL et proposer une implémentation en Python pure.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_environnement_virtuel_et_framework_de_tests&#34;&gt;Environnement virtuel et framework de tests&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Lorsque l’on code en Python, on passe très vite par la création d’un environnement virtuel.
Un virtualenv permet d’isoler l’installation de librairies tierce du système et d’éviter de polluer son système.
Pour créer un virtualenv :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;placez-vous dans votre répertoire de travail (celui de votre repository) et tapez la commande suivante : &lt;code&gt;$ virtualenv venv&lt;/code&gt;.
Cela va créer un environnement virtuel dans le répertoire &lt;code&gt;venv&lt;/code&gt; que vous pourrez activez quand vous voulez.
Si la commande &lt;code&gt;virtualenv&lt;/code&gt; n’est pas connue directement, utilisez à la place &lt;code&gt;$ python3 -m venv venv&lt;/code&gt;, cela va créer un environnement virtuel &lt;code&gt;venv&lt;/code&gt;, exactement comme la première commande.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Avant d’activer votre environnement virtuel, ajoutez le répertoire &lt;code&gt;venv&lt;/code&gt; à votre &lt;code&gt;.gitignore&lt;/code&gt; pour ne pas le commiter&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Activez votre environnement virtuel de la manière suivante : &lt;code&gt;source venv/bin/activate&lt;/code&gt;. &lt;strong&gt;Attention&lt;/strong&gt; Si vous êtes sous windows, pour activer l’environnement virtuel, il est possible que la commande soit différente et qu’il faille aller chercher le &lt;code&gt;venv\bin\activate.bat&lt;/code&gt;, si vous utilisez le sous-système linux sous windows, ça devrait être la même chose.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Une fois que le virtualenv est activé, vous pouvez installer le framework &lt;code&gt;pytest&lt;/code&gt; pour écrire des tests unitaires.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Activez votre virtualenv et installez &lt;code&gt;pytest&lt;/code&gt; avec la commande &lt;code&gt;pip install pytest&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_coo_diagramme_de_classe&#34;&gt;COO - Diagramme de classe&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Encore une fois, nous allons utiliser un diagramme de classe pour représenter les différents éléments proposés par le langage.
Nous allons directement considérer les opérations binaires, opération unaire ainsi que l’utilisation et la définition de variables (donc Expressions, Statements, …​)&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Proposez un diagramme de classe représentant le système. Que peut-on remarquer par rapport aux types définit en OCaml ?&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_just_do_it&#34;&gt;Just do it&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Écrire les tests et implémenter MatL en Python. Pour faire ceci, il est nécessaire de faire deux
choses fondamentales :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Écrivez les classes correspondantes à tout les types d’expression, statements, …​ de MatL&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Donner des méthodes d’évaluation sur chacun de ces types pour calculer le résultat du tout.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Écrivez les tests unitaires pour l’évaluation du langage.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Quel est l’intérêt d’avoir une grosse hiérarchie de classe ?&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_sil_vous_reste_du_temps&#34;&gt;S’il vous reste du temps&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Normalement, si vous avez bien fait le diagramme de classe et que vous avez bien compris le principe de l’objet ici, le TP devrait être assez court.
On va donc prendre du temps pour implémenter un simple analyseur de code qui permettra statiquement de vérifier que les variables utilisées ont bien été définies.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Pour implémenter facilement ce comportement, nous avons besoin de traverser l’AST MatL.
Nous allons utiliser pour ceci le principe d’un visiteur.
Vous avez, au choix, la possibilité de coder le pattern visiteur ou, pour éviter de réimplémenter un tel comportement, d’utiliser le &lt;code&gt;singledispatch&lt;/code&gt; proposé par Python.
Si vous décidez d’utiliser le &lt;code&gt;singledispatch&lt;/code&gt;, cherchez
une documentation sur le net (c’est pas ce qui manque).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Comment représenter les erreurs dans l’analyse de l’AST ? Proposer un type conservant les
informations nécessaires.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Implémenter l’analyse de l’AST en utilisant le single dispatch.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title></title>
      <link>/courses/c3p/spec/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/courses/c3p/spec/</guid>
      <description>&lt;div id=&#34;preamble&#34;&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Dans ce TP, nous allons faire de la génération de code Python à partir de code Python en utilisatn Python.
Le but du TP sera de générer du code Python à partir de classes Pythons qui serviront de “spécification”, c’est à dire que ces classes vont avoir peu d’information, mais ces informations vont nous servir à dériver du code.
Le TP se découpe en deux parties, une première partie d’introspection et collecte d’information, puis une génération de texte qui sera du code Python.
S’il vous reste du temps, vous pourrez effectuer une dernière partie sur la compilation en mémoire du code.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_une_spécification&#34;&gt;Une spécification ?&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Nous allons considérer directement des classes Python comme étant la spécification du code que nous voulons générer.
Voilà un exemple de code que nous aimerions pouvoir écrire comme spécification :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;highlight&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;@specification
class Engine(object):
  ...


@specification
class Vehicule(object):
  number_of_wheels = Attribute(int)
  engine = Attribute(Engine)


@specification
class Car(Vehicule):
  ...&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Ce code précise que les classes &lt;code&gt;Engine&lt;/code&gt;, &lt;code&gt;Vehicule&lt;/code&gt; et &lt;code&gt;Car&lt;/code&gt; ne sont plus exactement uniquement des classes, mais des &lt;code&gt;@specification&lt;/code&gt;.
On peut remarquer qu’il y a 2 variables de classe pour &lt;code&gt;Vehicule&lt;/code&gt; qui précise qui représentent 2 attributs de type &lt;code&gt;int&lt;/code&gt; et de type &lt;code&gt;Engine&lt;/code&gt;.
On voit donc que :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;ulist&#34;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;il y a un décorateur particulier pour préciser qu’une classe est une spécification,&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;il y a une classe spécial &lt;code&gt;Attribute&lt;/code&gt; qui est utilisé pour indiquer qu’une variable de classe
représente un attribut et son type.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;À partir de cette spécification, nous aimerions obtenir le code généré suivant :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;highlight&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;class Engine(object):
  ...


class Vehicule(object):
  def __init__(self, number_of_wheels=None, engine=None):
    self.number_of_wheels = number_of_wheels
    self.engine = engine

  @property
  def number_of_wheels(self):
    return self._number_of_wheels

  @number_of_wheels.setter
  def number_of_wheels(self, value):
    assert value is None or isinstance(value, int)
    self._number_of_wheels = value

  @property
  def engine(self):
    return self._engine

  @engine.setter
  def engine(self, value):
    assert value is None or isinstance(value, Engine)
    self._engine = value


class Car(Vehicule):
  ...&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_mise_en_place_du_framework&#34;&gt;Mise en place du framework&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Vous allez adopter la même &amp;#34;hiérarchie&amp;#34; de fichiers, pour pouvoir facilement vous y retrouver :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Créez un fichier &lt;code&gt;spec.py&lt;/code&gt; qui sera utilisé pour écrire l’implémentation de notre mini-framework
de spécification (c’est-à-dire, le décorateur et la classe &lt;code&gt;Attribute&lt;/code&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Maintenant, vous pouvez commencer à coder les artefacts qui vont servir à représenter une spécification.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;On va commencer par coder le décorateur &lt;code&gt;specification&lt;/code&gt;.
Un décorateur sur une classe en Python s’implémente en réalisant une fonction qui prend en paramètre une classe et qui retourne la classe.
Ce décorateur va faire très peu de chose, il va juste “marquer” la classe comme étant une spécification en rajoutant un attribut &lt;code&gt;specification&lt;/code&gt; avec la valeur &lt;code&gt;True&lt;/code&gt; sur la classe qu’il décore.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Écrire le décorateur &lt;code&gt;specification&lt;/code&gt; (c’est-à-dire, écrire une fonction &lt;code&gt;specification&lt;/code&gt; qui prend un paramètre), qui rajoute l’attribut à la classe passée en paramètre et qui retourne la classe modifiée.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Écrire la classe &lt;code&gt;Attribute&lt;/code&gt; qui va représenter un attribut de la spécification. Cette classe ne possède qu’une référence vers le type qu’elle est censé représenter et rien d’autre.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Maintenant que vous avez les éléments principaux de votre framework qui vous permettent de représenter une spécification, écrivez l’équivalent de la spécification montré au début du TP.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Créez un fichier &lt;code&gt;cars.py&lt;/code&gt; qui contiendra le code de la spécification exemple donné plus haut dans le sujet.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Écrivez ensuite la spécification d’exemple (celui du véhicule) dans &lt;code&gt;cars.py&lt;/code&gt; en utilisant votre micro-framework &lt;code&gt;spec.py&lt;/code&gt;. (Noubliez pas de faire un &lt;code&gt;from spec import *&lt;/code&gt; en entête de votre fichier &lt;code&gt;cars.py&lt;/code&gt; pour importer les éléments du framework que vous allez utiliser).&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_introspection_de_classes_et_de_modules&#34;&gt;Introspection de classes et de modules&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Maintenant que nous sommes capable d’exprimer que des classes sont des spécifications et de décrire des attributs sur ces classes, nous allons proposer les fonctions d’analyse de la spécification pour produire le code associé.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Écrire une fonction &lt;code&gt;gen_class_header&lt;/code&gt; qui prend une classe spécification en paramètre et qui retourne l’entête de la classe uniquement (pour l’instant) sous forme de chaîne de caractère.
Cette fonction doit gérer l’héritage en générant correctement le code relatif à l’héritage (Indication, l’attribut &lt;code&gt;&lt;em&gt;bases&lt;/em&gt;&lt;/code&gt; permet d’obtenir la liste des classes dont hérite une classe et pour vous aider dans la génération du texte, regardez l’utilisation de &lt;code&gt;join&lt;/code&gt; qui est une méthode sur les chaines de caractères).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Écrire une fonction &lt;code&gt;gen_class_body&lt;/code&gt; qui prend une classe spécification en paramètre et qui retourne une liste où chaque élément et l’équivalent du texte de chaque fonctions (faites bien attention à l’indentation, le code de chaque méthode devra être placé ensuite dans une classe).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Écrire une fonction &lt;code&gt;gen_class&lt;/code&gt; qui prend une classe spécification et qui retourne une grande chaine de caractère représentant la classe générée à partir de la classe de spécification.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Maintenant que nous sommes capable de générer le code pour une classe, il ne nous reste plus qu’à être capable de récupérer toutes les classes d’un module.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Écrire une fonction &lt;code&gt;collect_specifications&lt;/code&gt; qui prend un module en paramètre et qui retourne la liste des classes qui seront analyser plus tard (Indication, l’attribut &lt;code&gt;&lt;em&gt;dict&lt;/em&gt;&lt;/code&gt; d’un module permet de récupérer un dictionnaire des éléments qu’il contient, le module &lt;code&gt;inspect&lt;/code&gt; donne accès à des fonctions qui permettent de tester si un élément qu’il contient et la fonction &lt;code&gt;hasattr(elem, &amp;#39;attr&amp;#39;)&lt;/code&gt; permet de vérifier que l’attribut &lt;code&gt;attr&lt;/code&gt; existe dans &lt;code&gt;elem&lt;/code&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_génération_de_code&#34;&gt;Génération de code&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Nous avons tout ce qu’il nous faut pour pouvoir générer du code à partir d’une spécification :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;ulist&#34;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;nous sommes capable d’analyser des classes de spécification et de retourner le code correspondant,&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;nous sommes capable de récupérer toutes les classes spécification depuis un module.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Il ne reste plus qu’à écrire le tout dans un fichier.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Écrire une fonction &lt;code&gt;gen_module&lt;/code&gt; qui prend un module en paramètres, qui collecte la totalité des classes de spécification et qui écrit dans un fichier le code des classes.
Le nom du fichier sera nommé en fonction du nom du module.
Par exemple pour &lt;code&gt;cars.py&lt;/code&gt; qui correspond au fichier de
spécification, le fichier généré sera nommé : &lt;code&gt;cars_gen.py&lt;/code&gt; (Indication, on peut accéder au nom
d’un module par l’attribut &lt;code&gt;&lt;em&gt;name&lt;/em&gt;&lt;/code&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title></title>
      <link>/courses/c3p/tp4bis/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/courses/c3p/tp4bis/</guid>
      <description>&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_introduction&#34;&gt;Introduction&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Le but de ce TP est d’implémenter en OCaml un interpréteur Magistack (&lt;a href=&#34;https://esolangs.org/wiki/MagiStack&#34; class=&#34;bare&#34;&gt;https://esolangs.org/wiki/MagiStack&lt;/a&gt;), une machine virtuelle minimale à pile.
Il y a plusieurs façons de proposer une solution, mais nous allons nous concentrer sur une en particulier.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;De manière générale, une machine virtuelle (VM) est un programme qui va lire et donner du sens à un ensemble d’instructions.
Ces instructions sont encodées d’une certaine manière et chacune de ces instructions représente une action que la machine virtuelle doit effectuer.
Dans les VM à pile, la machine virtuelle considère pour gérer ses opérations une pile sur laquelle elle pousse, enlève des valeurs…​etc.
Les instructions qu’une VM à pile est capable de comprendre sont donc fortement à la manipulation de la pile.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;La VM que vous allez implémenter ici (ou commencer à implémenter), est une VM &amp;#34;jouet&amp;#34;.
Elle ne considère que très peu d’instructions.
Chaque instruction est encodée sur un caractère, et un programme est une longue chaine de caractère où chacun d’eux est donc une instruction.
À chaque &amp;#34;étape&amp;#34; de l’exécution d’un programme, la VM va décoder un des caractères et faire ce que le symbole indique.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Pour coder cette VM en OCaml, vous allez devoir recoder ce comportement général, à savoir : évoluer dans un programme, vers la gauche ou la droite (en fonction des actions), pour regarder quelle est l’action et effectuer l’action en question.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_représentation_des_concepts&#34;&gt;Représentation des concepts&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Si on regarde bien, il y a très peu de concepts qui vont être manipulés par notre VM.
Essayez de vous poser quelques instants pour réfléchir au problème (on en discute ensemble évidemment).&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Quels concepts voyez-vous qui vont être indispensable à la réalisation de la VM ?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Parmi ces concepts, comment vais-je les représenter ? (quelle structure je peux utiliser pour les représenter)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Imaginez que vous avez une fonction générale &lt;code&gt;eval_program&lt;/code&gt;, quels vont être les paramètres que vous allez passer à la fonction ?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Imaginez maintenant que vous avec une fonction très spécifique qui est responsable de l’exécution de votre programme. Combien de concepts pensez-vous qu’il est nécessaire de passer à cette fonction ? Que vont-ils représenter ?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;À un instant &lt;code&gt;T&lt;/code&gt;, qu’est-ce qui va donner l’état de ma VM en cour d’exécution ?&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_première_étape_de_compilation_de_notre_programme&#34;&gt;Première étape de &amp;#34;compilation&amp;#34; de notre programme&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Comme vous l’avez peut-être deviner, travailler directement sur notre programme sous forme de chaine de caractère n’est pas très pratique.
Nous allons donc &amp;#34;compiler&amp;#34; notre programme pour nous retrouver avec une représentation qui va être plus facile à manipuler en mémoire.
L’idée générale va être de considérer que notre programme sous forme de chaine de caractère va être transformé en une liste d’instructions.
Pour produire cette liste à partir d’une chaine de caractère, il est plus facile de passer par une première étape qui va prendre la chaine de caractère et la &amp;#34;couper&amp;#34; en une liste de caractère. Vous pouvez vous servir de la fonction suivante pour faire ça :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;highlight&#34;&gt;&lt;code class=&#34;language-ocaml&#34; data-lang=&#34;ocaml&#34;&gt;let explode s = List.init (String.length s) (String.get s);;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Proposez un type algébrique pour représenter les instructions&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Ecrivez une fonction qui va prendre une liste de caractère et la transforme en liste d’instructions&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Ecrivez une fonction qui prend une chaine de caractère et la transforme en liste d’instructions&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_modélisation_de_la_pile_et_de_la_vm_et_avancer_dans_un_programme&#34;&gt;Modélisation de la pile et de la VM et avancer dans un programme&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Nous allons maintenant regarder comment nous pouvons modéliser le fait d’avancer dans un programme, la pile et la VM.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Comment peut-on représenter le fait qu’on avance dans un programme à chaque fois qu’on lit une instruction ?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Comment peut-on représenter la pile ?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Comment peut-on représenter la VM en elle-même ? A-t-on besoin d’une structure de donnée spéciale ou un ensemble de fonctions suffit ?&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_comportement_des_instructions_et_de_la_vm&#34;&gt;Comportement des instructions et de la VM&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Il est possible d’associer une fonction à chacune des instructions.
Regardez bien sur le site de présentation du langage (&lt;a href=&#34;https://esolangs.org/wiki/MagiStack&#34; class=&#34;bare&#34;&gt;https://esolangs.org/wiki/MagiStack&lt;/a&gt;) quelles sont les différentes instructions et ce qu’elles font.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Ecrivez une fonction pour chacune de ces instructions. Faites bien attention à ce qu’elles prennent en entrée et comment elles agissent sur le système pour le modifier (donc, que prennent-elles en entrée et que produisent-elle en sortie).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Ecrivez une fonction spéciale pour la VM qui prend une liste d’instructions (à voir comment vous la représentez exactement, discutons en), une stack vide et qui exécute le programme.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Ecrivez une fonction qui prend un programme sous forme de caractère et qui l’exécute en vous servant de toutes les fonctions précédentes.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title></title>
      <link>/courses/metamodelisation/config/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/courses/metamodelisation/config/</guid>
      <description>&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_sérialisation_de_données&#34;&gt;Sérialisation de données&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Dans ce TP vous allez coder un algorithme de sérialisation.
Comme pour les précédents TPs, vous avez le choix entre Java et Python.
De manière générale nous allons sérialiser les modèles en JSON selon un schéma de votre choix.
Regardez comment produire et lire du JSON en Java.
En Python, tout est intégré dans la bibliothèque standard, mais en Java, il faudra que vous utilisiez une bibliothèque externe.
En Java, il existe plusieurs bibliothèques, mais on vous conseille d’utiliser &lt;a href=&#34;https://github.com/stleary/JSON-java&#34;&gt;&lt;code&gt;org.json&lt;/code&gt;&lt;/a&gt; qui est simple à prendre en main.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Vous pouvez trouvez au dessous comment paramétrer votre projet Java et Python correctement avec quelques exemples de code de comment utiliser les bibliothèques en Java et Python voici quelques liens :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;ulist&#34;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;#_créerparamétrer_son_projet_java&#34;&gt;Créer/paramétrer son projet Java&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;#_créerparamétrer_son_projet_python&#34;&gt;Créer/paramétrer son projet Python&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_créerparamétrer_son_projet_java&#34;&gt;Créer/paramétrer son projet Java&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Le paramétrage du projet en Java n’est pas compliqué en soit, mais il peut-être long si vous ne savez pas vraiment où aller.
Ici, vous trouverez un mini-tuto pour paramétrer correctement votre projet.
Si vous rencontrez trop de difficultés avec le paramétrage de votre projet, n’hésitez pas à demander ou à passer en Python.
Pour init votre projet, il va falloire faire deux choses imporantes :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;installer les composants &lt;code&gt;maven&lt;/code&gt; pour Eclipse (pas nécessaire si vous les avez déjà),&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;bien créer votre &lt;code&gt;pom.xml&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_installation_des_composants_maven_pour_eclipse&#34;&gt;Installation des composants &lt;code&gt;maven&lt;/code&gt; pour Eclipse&lt;/h3&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Allez dans &lt;code&gt;Help→Install new software…​&lt;/code&gt;, dans la partie combo-box &lt;code&gt;Work with&lt;/code&gt;, sélectionnez &lt;code&gt;2021-06…​&lt;/code&gt; (ou tout autre date que vous avez, mais sélectionnez la plus récente des entrées avec une date).
Ensuite, dans le champ &lt;code&gt;type filter text&lt;/code&gt;, cherchez &lt;code&gt;maven&lt;/code&gt;, puis sélectionnez à installer :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;ulist&#34;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;m2e - Maven Integration for Eclipse&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;m2e connector for mavenarchiver pom properties&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Cliquez ensuite sur &lt;code&gt;Finish&lt;/code&gt; et poursuivez l’installation.
Une fois l’installation terminée, redémarrez votre Eclipse.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_création_du_projet_pour_le_tp&#34;&gt;Création du projet pour le TP&lt;/h3&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Il faut maintenant créer un projet Eclipse-Maven et bien le paramétrer.
Créez un projet avec &lt;code&gt;File→new→Other→Maven project&lt;/code&gt;.
Sur la page de création du projet Maven, sélectionnez &lt;code&gt;create a simple project (skip archetype selection)&lt;/code&gt;.
Sur la page suivante, entrez les informations suivantes pour la création du projet Maven :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;ulist&#34;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Group ID&lt;/code&gt;: &lt;code&gt;org.univ.metamodeling&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Artifact ID&lt;/code&gt;: &lt;code&gt;serializer&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Une fois le projet créé, ouvrez le fichier &lt;code&gt;pom.xml&lt;/code&gt; et utilisez les dépendances suivantes :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34;&gt;&lt;code data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependencies&amp;gt;&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.json&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;json&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;20210307&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.eclipse.emf&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;org.eclipse.emf.ecore&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.25.0&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.eclipse.emf&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;org.eclipse.emf.ecore.xmi&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.16.0&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependencies&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;admonitionblock important&#34;&gt;
&lt;table&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td class=&#34;icon&#34;&gt;
&lt;div class=&#34;title&#34;&gt;Important&lt;/div&gt;
&lt;/td&gt;
&lt;td class=&#34;content&#34;&gt;
Si vous avez des erreurs sur votre projet, il y a de fortes chances que ça soit des erreurs Maven.
Pour les résoudre, faites un clic droit sur votre projet, puis sélectionnez &lt;code&gt;Maven→Update project&lt;/code&gt; tout en cochant &lt;code&gt;Force Update of Snapshot Releases&lt;/code&gt;.
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_utiliser_la_bibliothèque_org_json&#34;&gt;Utiliser la bibliothèque &lt;code&gt;org.json&lt;/code&gt;&lt;/h3&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;La bibliothèque est plutôt simple à utiliser, on créer des &lt;code&gt;JSONObject&lt;/code&gt; et/ou &lt;code&gt;JSONArray&lt;/code&gt; qui sont l’équivalent soit de map, soit de collection dans lesquels on rajoute les informations dont on a besoin.
Voici un exemple de comment créer un objet et un array &lt;code&gt;JSON&lt;/code&gt; et de comment les &amp;#34;dumps&amp;#34; en chaine de caractère :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34;&gt;&lt;code data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nc&#34;&gt;JSONObject&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;obj&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;JSONObject&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;
                &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;JSON1&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Hello World!&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
                &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;JSON2&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Hello my World!&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
                &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;JSON3&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;44&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;nc&#34;&gt;JSONArray&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;array&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;JSONArray&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;obj&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

&lt;span class=&#34;nc&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;array&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;toString&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_testez_votre_code&#34;&gt;Testez votre code&lt;/h3&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Pour tester votre projet, il est plus simple de prendre directement des méta-modèles que vous avez déjà produit.
Normalement votre code est censé fonctionner avec n’importe quel type d’éléments, méta-modèle ou modèles, il est donc facile d’ouvrir un de vos modèles ou méta-modèles et de voir si tout fonctionne :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34;&gt;&lt;code data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nc&#34;&gt;ResourceSet&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;ResourceSetImpl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;rset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getResourceFactoryRegistry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getExtensionToFactoryMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;ecore&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;XMIResourceFactoryImpl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;rset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getResourceFactoryRegistry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getExtensionToFactoryMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;xmi&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;XMIResourceFactoryImpl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// Enregistrez ici vos méta-modèles si nécessaire&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;//	rset.getPackageRegistry().put(YOUR_MM_URI, YOUR_MM_EPACKAGE)&lt;/span&gt;

&lt;span class=&#34;nc&#34;&gt;Resource&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;r&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getResource&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;no&#34;&gt;URI&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;createFileURI&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;no&#34;&gt;PATH_TO_YOUR_ECORE_OR_XMI_MODEL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;nc&#34;&gt;EObject&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;root&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getContents&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// Ici l&amp;#39;appel à votre code pour la sérialisation&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_créerparamétrer_son_projet_python&#34;&gt;Créer/paramétrer son projet Python&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Si vous avez déjà travaillé en Python, il n’y a pas de manipulation spéciale à faire si ce n’est l’activation de votre env. virtuel.
Si vous n’avez encore jamais travaillé avec Python, il est nécessaire de travailler avec un env. virtuel.
Regardez sur le TP 2 comment les choses étaient faites.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_utiliser_la_bibliothèque_intégrée_pour_la_gestion_du_json&#34;&gt;Utiliser la bibliothèque intégrée pour la gestion du JSON&lt;/h3&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Python propose directement une bibliothèque pour la création d’objets JSON.
La bibliothèque travaille avec des objets Python de base (dictionnaire pour les objets et liste pour les arrays JSON).
Le petit morceau de code suivant vous montre comment créer un objet et un array JSON.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34;&gt;&lt;code data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;json&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;obj&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;s&#34;&gt;&amp;#39;JSON1&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;Hello World!&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;s&#34;&gt;&amp;#39;JSON3&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;44&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;obj&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;JSON2&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;Hello my World!&amp;#39;&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;array&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;array&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;obj&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# ou directement array = [obj]
&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;jsonstring&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;json&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dumps&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;array&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;jsonstring&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_testez_votre_code_2&#34;&gt;Testez votre code&lt;/h3&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Pour tester votre projet, il est plus simple de prendre directement des méta-modèles que vous avez déjà produit.
Normalement votre code est censé fonctionner avec n’importe quel type d’éléments, méta-modèle ou modèles, il est donc facile d’ouvrir un de vos modèles ou méta-modèles et de voir si tout fonctionne :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34;&gt;&lt;code data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pyecore.resources&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ResourceSet&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;rset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ResourceSet&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# Enregistrez ici vos méta-modèles si nécessaire
#  rset.metamodel_registry[YOUR_MM_URI] = YOUR_MM_EPACKAGE
&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;resource&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rset&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get_resource&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;PATH_TO_YOUR_ECORE_OR_XMI_MODEL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;root&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;resource&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;contents&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title></title>
      <link>/courses/metamodelisation/tp1/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/courses/metamodelisation/tp1/</guid>
      <description>&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_rappel&#34;&gt;Rappel&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Tout les TPs sont à faire sur UN SEUL repo gitlab.
Avant toutes choses, créez un dépôt et ajoutez  Anne Etien et Vincent Aranega comme dévelopeurs à votre dépôt.
Vous pouvez travaillez en binôme, mais gardez en tête qu’un des TPs sera noté et à faire en temps limité pendant la séance de TP, donc soyez tous à l’aise avec la façon de travailler et surtout, créez bien tous un dépôt pour vous.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_pré_requis&#34;&gt;Pré-requis&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Dans ce premier TP, vous allez créer des méta-modèles manuellement en utilisant les outils proposés dans Eclipse.
Installer les outils de modélisation directement dans une instance d’Eclipse est quelque chose de pénible.
Heureusement, il existe des &amp;#34;saveurs&amp;#34; d’Eclipse spéciales avec les outils déjà pré-installés.
Dans notre cas, nous allons utiliser la version &amp;#34;Eclipse Modeling Tools&amp;#34;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Téléchargez &amp;#34;Eclipse Modeling Tools&amp;#34; à l’adresse suivante: &lt;a href=&#34;https://www.eclipse.org/downloads/packages/&#34; class=&#34;bare&#34;&gt;https://www.eclipse.org/downloads/packages/&lt;/a&gt; et décompressez le (il faut vraiment aller chercher la &amp;#34;flavour&amp;#34; modeling sur la page).&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_modélisation_du_méta_modèle_de_java_simplifié&#34;&gt;Modélisation du méta-modèle de Java simplifié&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Dans un premier temps, vous allez modéliser le méta-modèle de Java simplfié que nous avons vu en cours.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Assurez-vous que vous avez bien tous les concepts et re-modélisez les sur papier si nécessaire.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Une fois Eclipse ouvert, créez un &amp;#34;Ecore Modeling Project&amp;#34; (&lt;code&gt;File→new→Others&lt;/code&gt;) et nommez-le &lt;code&gt;simplejava&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Vous pouvez remarquez que toute une hiérachie de répertoire et de &amp;#34;configuration&amp;#34; est automatiquement créée.
Le projet créé est automatiquement paramétré avec les différentes dépendances nécessaires pour le bon fonctionnement de votre projet de méta-modélisation.
Pour l’instant, vous allez uniquement travailler dans le répertoire &lt;code&gt;model&lt;/code&gt; généré.
Il contient trois fichiers, un &lt;code&gt;.aird&lt;/code&gt;, un &lt;code&gt;.ecore&lt;/code&gt; et un &lt;code&gt;.genmodel&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;ulist&#34;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Le &lt;code&gt;.aird&lt;/code&gt; est le fichier avec la représentation graphique de votre méta-modèle.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Le &lt;code&gt;.ecore&lt;/code&gt; est le fichier contenant la définition de votre méta-modèle.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Le &lt;code&gt;.genmodel&lt;/code&gt; est le fichier qui servira plus tard à générer le code de votre méta-modèle.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Pour ce TP, vous allez uniquement travailler avec le &lt;code&gt;.aird&lt;/code&gt;, mais vous allez d’abord vérifier certaines informations sur le &lt;code&gt;.ecore&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Déroulez dans l’arbre le &lt;code&gt;.ecore&lt;/code&gt; et cliquez sur le package &lt;code&gt;simplejava&lt;/code&gt; et vérifiez dans l’onglet &lt;code&gt;Default&lt;/code&gt; de la fenêtre &lt;code&gt;Properties&lt;/code&gt; que toutes les informations sont bien remplies (préfix, URI et nom). Si elles ne le sont pas, remplissez les en utilisant &lt;code&gt;simplejava&lt;/code&gt; comme nom et préfix et &lt;code&gt;&lt;a href=&#34;http://simplejava/1.0&#34; class=&#34;bare&#34;&gt;http://simplejava/1.0&lt;/a&gt;&lt;/code&gt; comme URI.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Ouvrez maintenant le fichier de représentation graphique de votre méta-modèle et modélisez le méta-modèle de Java simplifié (pour modifiez des informations d’élements, vous pouvez le faire dans l’onglet &lt;code&gt;Semantic&lt;/code&gt; de la fenêtre de propriétés). &lt;strong&gt;Pensez bien à prefixer tout vos concepts par un &lt;code&gt;J&lt;/code&gt;&lt;/strong&gt; (par ex: &lt;code&gt;JClass&lt;/code&gt; pour &lt;code&gt;Class&lt;/code&gt;), pour éviter qu’il y ait des clash de noms par la suite lors de la génération de code Java et/ou Python (dans les prochains TPs).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Une fois terminé, ouvrez le &lt;code&gt;.ecore&lt;/code&gt; (l’éditeur réfléxif générique devrait s’ouvrir) et vérifiez que tous les concepts sont bien présents.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;De manière générale, il est important que vous validiez bien votre &lt;code&gt;.ecore&lt;/code&gt;. L’opération de validation va bien vérifier que les informations que vous avez entrée dans votre méta-modèle sont bonnes (pas d’espaces en trop, de caractères non autorisés,…​etc). Si vous ne le faites pas et que des erreurs se sont glissée dans votre méta-modèle, il y a de très fortes chances que les opérations suivantes s’appuyant sur votre méta-modèle (création d’instances, génération de code,…​) vous retourne une erreur incompréhensible. Pour bien valider le méta-modèle, une fois que vous l’avez ouvert avec l’éditeur réflexif, faites un clic-droit sur la racine de votre méta-modèle (le &lt;code&gt;EPackage&lt;/code&gt;) et choisissez &lt;code&gt;validate&lt;/code&gt;. Si des problèmes sont relevés, ils sont indiqués et des labels sur les objets problématiques apparaissent dans l’éditeur réflexif. Corrigez les et revalidez votre modèle jusqu’à ce que le validateur vous assure que tout va bien. Attention, le fait que votre méta-modèle valide n’indique pas que votre méta-modèle représente correctement les concepts, cela veut juste dire que votre méta-modèle respecte bien le méta-méta-modèle et qu’aucune information entrée ne devrait poser problème par la suite.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Maintenant que votre méta-modèle est créé, pour vérifier que tout &amp;#34;est bon&amp;#34; dans votre méta-modèle, vous allez créer plusieurs modèles conformes.
Pour créer des méta-modèles dynamiquement, sans générer de code, vous allez devoir choisir depuis la vue arborescente de votre ecore le concept qui représente la &amp;#34;racine&amp;#34; de votre modèle.
Dans un modèle, il faut toujours considérer un conteneur principal qui est le conteneur de tous les éléments de votre modèle (ici, des packages java par exemple).&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Ouvrez la vue arborescente et sélectionnez votre concept racine, puis faites un clic-droit sur l’élément, puis &lt;code&gt;Create dynamique instances…​&lt;/code&gt;. Cela va vous créer un fichier &lt;code&gt;.xmi&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Ouvrez le fichier &lt;code&gt;.xmi&lt;/code&gt; il devrait s’ouvrir avec l’éditeur générique réflexif (le même que lorsque vous ouvrez directement le &lt;code&gt;.ecore&lt;/code&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Créez un premier modèle avec quelques packages et classes.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Créez maintenant un autre modèle (clic-droit…​etc) et modélisez un autre modèle conforme au méta-modèle de java simplifié.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_modélisation_du_méta_modèle_de_système_de_fichier&#34;&gt;Modélisation du méta-modèle de système de fichier&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Pour cet exercice, vous allez créer un nouveau &amp;#34;Ecore Modeling Project&amp;#34; avec le nom &amp;#34;metamodels&amp;#34;.
Ce projet servira à mettre tout vos autres méta-modèles (pas uniquement le java simplifié).&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Créez le nouveau projet&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Dans le répertoire &lt;code&gt;models&lt;/code&gt;, créez un nouveau méta-modèle ecore: &lt;code&gt;File→new→Others→Ecore Model&lt;/code&gt; nommé &lt;code&gt;filesystem.ecore&lt;/code&gt;, puis ouvez le dans l’éditeur arborescent, sélectionnez le package à l’intérieur, faites clic-droit et &lt;code&gt;New representation→Class Diagram&lt;/code&gt;. Cela crée une représentation graphique, mais ne crée pas pour autant de fichier &lt;code&gt;.aird&lt;/code&gt; spécial.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;En cliquant sur le package de votre méta-modèle, entrez les informations suivantes pour le nom, préfix et URI: &lt;code&gt;filesystem&lt;/code&gt;, &lt;code&gt;filesystem&lt;/code&gt; et &lt;code&gt;&lt;a href=&#34;http://filesystem/1.0&#34; class=&#34;bare&#34;&gt;http://filesystem/1.0&lt;/a&gt;&lt;/code&gt;. Vous pouvez rentrer n’importe quel nom et préfix, mais il est toujours mieux d’avoir les mêmes et d’avoir le nom apparaissant dans l’URI (qui, de préférence doit avoir la tête d’une URL).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Modélisez votre méta-modèle de système de fichier.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Modélisez ensuite quelques modèles instances de ce méta-modèle.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_modélisation_du_méta_modèle_de_base_de_données&#34;&gt;Modélisation du méta-modèle de base de données&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Vous suivrez les mêmes étapes que pour le méta-modèle précédent, créez le dans votre projet &lt;code&gt;metamodels&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title></title>
      <link>/courses/metamodelisation/tp2/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/courses/metamodelisation/tp2/</guid>
      <description>&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_notes&#34;&gt;Notes&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;À partir de ce TP, vous allez devoir manipuler les modèles de façon programmatique.
Cela va forcément impliquer l’utilisation d’un langage de programmation pour lequel il existe le support de librairies de méta-modélisation.
Vous avez le choix entre Java et Python.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;ulist&#34;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Si vous décidez d’utiliser Java, vous devez travailler sous Eclipse, vous ne pouvez pas utiliser Intellij, les outils EMFs ne sont disponibles que sous Eclipse.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Si vous décidez d’utiliser Python, vous pouvez utiliser l’éditeur de code que vous préférez, mais il est indispensable d’utiliser un env. virtuel pour installer les dépendances sans altérer votre système.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Comme ce TP est une prise en main des différentes librairies, des détails seront donnés pour les deux langages et les différents outils.
Par contre, il est important que :
* soit vous décidiez de tester les deux librairies au fil des TPs et alors, d’être bien attentif et de faire attention à la manière de manipuler les choses,
* soit vous décidiez de rester avec un seul langage/lib pour éviter de multiplier la complexité, dans ce cas, jetez quand-même un oeil à comment les choses sont manipulées chez un de vos camarades pour bien voir les similitudes et différences techniques.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;&lt;strong&gt;À vérifier&lt;/strong&gt; : à plusieurs étapes, du code va être généré, soit en Java, soit en Python.
Faîtes bien attention au nommage de vos méta-classes dans votre méta-modèle.
Si vous utilisez des noms réservés ou des noms spéciaux, il est possible que cela pose problème une fois que le code sera généré.
Spécialement, faites attention aux noms de méta-classes/attributs/references qui porteraient des nom comme &lt;code&gt;class&lt;/code&gt; (avec une minuscule), &lt;code&gt;super&lt;/code&gt; (qui clasherait en Python), &lt;code&gt;return&lt;/code&gt; (qui pourrait poser problème en Java et Python),…​etc
Tout ces noms ne vont pas poser systématiquement problème, mais si vous vous retrouvez avec un modèle qui ne se charge pas pour une raison obscure, essayez de vérifier qu’il n’y a pas de soucis de nommage.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Aussi, prêtez une attention toute particulière à l&amp;#39;`URI` de vos méta-modèles.
Si vous avez un modèle qui ne se charge pas bien et que vous ne comprenez pas pourquoi, vérifiez que votre modèle au format &lt;code&gt;.xmi&lt;/code&gt; fait bien référence au même &lt;code&gt;prefix&lt;/code&gt; et &lt;code&gt;URI&lt;/code&gt; que ceux écrit pour votre méta-modèle (pour votre &lt;code&gt;EPackage&lt;/code&gt; racine).&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_manipulation_dinstances&#34;&gt;Manipulation d’instances&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Vous allez manipuler ici les méta-modèles que vous avez définis au TP précédent, c’est-à-dire &lt;code&gt;simplejava&lt;/code&gt;, &lt;code&gt;filesystem&lt;/code&gt; et votre méta-modèle de base de donnée.
Pour pouvoir manipuler des modèles, il faut être en mesure de charger le méta-modèle dont ils sont instances depuis un fichier &lt;code&gt;.ecore&lt;/code&gt;.
Pour charger un fichier, EMF/PyEcore passent par un système de &lt;code&gt;Resource&lt;/code&gt;.
Une &lt;code&gt;Resource&lt;/code&gt; représente une entité logique qui contient un modèle ou un méta-modèle depuis une source en particulier (ici depuis un fichier).
Ces resources sont conservées dans un &lt;code&gt;ResourceSet&lt;/code&gt;, qui représente un conteneur de resources.
Le &lt;code&gt;ResourceSet&lt;/code&gt; fait plus qu’uniquement conserver des resources par ce qu’il va aussi permettre de lier des factories spéciales pour lire des formats de fichiers spécifiques et pour enregistrer des méta-modèles existants.
Enregistrer un méta-modèle dans un ResourceSet signifie que ce ResourceSet est en mesure de lire des instances de ce méta-modèle.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_directement_à_partir_de_code_généré&#34;&gt;Directement, à partir de code généré&lt;/h3&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;La génération du code d’un méta-modèle repose sur le fait de générer le code Java ou Python des méta-classes décrites dans le méta-modèle.
Comme les librairies de méta-modélisation sont légèrement différentes, la génération de code ne se passe pas de la même manière.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;sect3&#34;&gt;
&lt;h4 id=&#34;_en_java_avec_emf&#34;&gt;En Java avec EMF&lt;/h4&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;La génération de code passe par un &lt;code&gt;.genmodel&lt;/code&gt; qui est un fichier de configuration de la génération de code.
Pour le méta-modèle simple java, le &lt;code&gt;.genmodel&lt;/code&gt; devrait être déjà existant, vous pouvez donc le réutiliser.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Ouvrez le fichier &lt;code&gt;.genmodel&lt;/code&gt; et faites clic-droit sur la racine du fichier ouvert, puis &lt;code&gt;Generate Model Code&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Si vous n’avez pas de &lt;code&gt;.genmodel&lt;/code&gt; pour votre méta-modèle&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Faites un clic-droit sur votre &lt;code&gt;.ecore&lt;/code&gt;, puis &lt;code&gt;new→Other→EMF Generator Model&lt;/code&gt;, suivez les étapes pour générer le &lt;code&gt;.genmodel&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Ouvrez ensuite le fichier généré et faites clic-droit sur la racine du fichier ouvert, puis &lt;code&gt;Generate Model Code&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;À l’issue de ces étapes, vous devriez avoir le code de votre méta-modèle entièrement généré.
Maintenant, pour pouvoir ouvrir des modèles existant, il est nécessaire d’enregistrer une dépendance en plus pour votre projet &amp;#34;Ecore Modeling Project&amp;#34;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Ouvrez le fichier &lt;code&gt;META-INF/MANIFEST.MF&lt;/code&gt;, puis switchez sur l’onglet &lt;code&gt;Dependencies&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;À partir de cet onglet, cliquez sur le &lt;code&gt;Add…​&lt;/code&gt; de la frame de gauche &lt;code&gt;Required plug-ins&lt;/code&gt; et ajoutez le plugin suivant :&lt;/p&gt;
&lt;div class=&#34;ulist&#34;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;org.eclipse.emf.ecore.xmi&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Vous pouvez maintenant charger un modèle instance du méta-modèle enregistré comme vue précédemment en utilisant le &lt;code&gt;ResourceSet&lt;/code&gt; correctement paramétré.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;le méta-modèle que vous voulez utiliser dans un &lt;code&gt;ResourceSet&lt;/code&gt;.
Cela se fait avec le code ci-dessous.
Notez bien que ce snippet créer en premier lieux un &lt;code&gt;ResourceSet&lt;/code&gt; et le configure ensuite en enregistrant les méta-modèles dont il aura besoin pour lire votre modèle.
Pour chaque nouveau méta-modèle dont vous générez le code, vous devez aussi l’enregistrer dans le &lt;code&gt;ResourceSet&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34;&gt;&lt;code data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nc&#34;&gt;ResourceSet&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;ResourceSetImpl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;rset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getResourceFactoryRegistry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getExtensionToFactoryMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;ecore&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;XMIResourceFactoryImpl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;rset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getResourceFactoryRegistry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getExtensionToFactoryMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;xmi&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;XMIResourceFactoryImpl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;rset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getPackageRegistry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;SimplejavaPackage&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;eNS_URI&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;SimplejavaPackage&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;eINSTANCE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

&lt;span class=&#34;nc&#34;&gt;Resource&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;resource&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getResource&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;no&#34;&gt;URI&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;createFileURI&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;path_vers_un_modele&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;nc&#34;&gt;JavaModel&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;model&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;JavaModel&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;resource&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getContents&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;// JavaModel est le nom du concept racine du méta-modèle simple java,&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;// chez vous il peut avoir un nom différent ! Pensez bien à le modifier !&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect3&#34;&gt;
&lt;h4 id=&#34;_en_python_avec_pyecore&#34;&gt;En Python avec PyEcore&lt;/h4&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;La génération de code avec PyEcore passe par &lt;code&gt;pyecoregen&lt;/code&gt; un outil dédié utilisant PyEcore pour générer le code Python des concepts du méta-modèle.
Dans un premier temps, créez un env. virtuel :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;placez-vous dans votre répertoire de travail (celui de votre repository) et tapez la commande suivante : &lt;code&gt;$ virtualenv venv&lt;/code&gt;. Cela va créer un environnement virtuel dans le répertoire &lt;code&gt;venv&lt;/code&gt; que vous pourrez activez quand vous voulez. Si la commande &lt;code&gt;virtualenv&lt;/code&gt; n’est pas connue directement, utilisez à la place &lt;code&gt;$ python3 -m venv venv&lt;/code&gt;, cela va créer un environnement virtuel &lt;code&gt;venv&lt;/code&gt;, exactement comme la première commande.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Avant d’activer votre environnement virtuel, ajoutez le répertoire &lt;code&gt;venv&lt;/code&gt; à votre &lt;code&gt;.gitignore&lt;/code&gt; pour ne pas le commiter&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Activez votre environnement virtuel de la manière suivante : &lt;code&gt;source venv/bin/activate&lt;/code&gt;. &lt;strong&gt;Attention&lt;/strong&gt; Si vous êtes sous windows, pour activer l’environnement virtuel, il est possible que la commande soit différente et qu’il faille aller chercher le &lt;code&gt;venv\bin\activate.bat&lt;/code&gt;, si vous utilisez le sous-système linux sous windows, ça devrait être la même chose.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Vous pouvez maintenant installer les dépendances qui vous seront utiles :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Installez &lt;code&gt;pyecoregen&lt;/code&gt;, dans votre virtualenv, tapez &lt;code&gt;pip install pyecoregen&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Générez le code de votre méta-modèle, ceci se fait avec la commande &lt;code&gt;pyecoregen -e chemin_vers_ecore -o .&lt;/code&gt; (il s’agit bien d’un &lt;code&gt;.&lt;/code&gt; en fin de ligne). Cette commande génère le code de votre méta-modèle dans le répertoire courant.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Maintenant que le code de votre méta-modèle est généré, il est possible de l’utiliser et d’ouvrir un modèle existant :
Dans un premier temps, enregistrez le métamodèle dans un &lt;code&gt;ResourceSet&lt;/code&gt; comme ceci :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34;&gt;&lt;code data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pyecore.resources&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ResourceSet&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;simplejava&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# pour le méta-modèle simplejava
&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;rset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ResourceSet&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;rset&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;metamodel_registry&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;simplejava&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nsURI&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;simplejava&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# enregistre le méta-modèle simplejava
# si vous générez le code d&amp;#39;autres méta-modèles, n&amp;#39;oubliez pas de les enregistrer aussi
&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;resource&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rset&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get_resource&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;path_vers_un_modele_simplejava&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;racine&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;resource&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;contents&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect3&#34;&gt;
&lt;h4 id=&#34;_questions_générales&#34;&gt;Questions générales&lt;/h4&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Voilà quelques questions relatives à simple java :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une fonction qui prend en paramètre l’équivalent d’un &lt;code&gt;JavaModel&lt;/code&gt; et qui retourne la liste de toutes les classes d’un de vos modèles &lt;code&gt;simplejava&lt;/code&gt; (toutes les classes qui ont été modélisées dans le modèle, donc toute les instances de &lt;code&gt;JClass&lt;/code&gt; si vous les avez nommé comme ça). Testez votre fonction avec plusieurs modèles. Si vous êtes certains qu’un de vos collègues à exactement le même méta-modèle que vous (mêmes nommage, relations, URI, prefix…​etc), vous pouvez échanger des modèles pour vérifier que tout fonctionne correctement.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une fonction qui affiche à l’écran le nom de tous les attributs (equivalent &lt;code&gt;JAttribute&lt;/code&gt; contenues par les &lt;code&gt;JClass&lt;/code&gt;) de votre modèle java.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une fonction qui retourne la profondeur d’héritage d’une &lt;code&gt;JCLass&lt;/code&gt; classe en particulier (par exemple, en considérant que l’on a une instance de class &lt;code&gt;JObject&lt;/code&gt; nommé &lt;code&gt;Object&lt;/code&gt; dans notre méta-modèle, 0 sera retourné pour cette instance de &lt;code&gt;JClass&lt;/code&gt;, 1 pour les classes qui héritent de &lt;code&gt;Object&lt;/code&gt;, 2 pour les classes qui héritent des précédentes et ainsi de suite)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une fonction qui retourne le nom pleinement qualifié d’une instance de &lt;code&gt;JClass&lt;/code&gt; (le nom de tous ses packages contenant séparés par un &lt;code&gt;.&lt;/code&gt; suivi du nom de la classe)&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Voilà quelques questions relatives à filesystem :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une fonction qui retourne le nombre de fichiers de votre modèle&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une fonction qui retourne le poids de tous les fichiers contenus dans un répertoire&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une fonction qui retourne le poids de tous les fichiers contenus dans le modèle&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Et quelques questions pour la manipulation directe de vos méta-modèles :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une fonction qui prend un &lt;code&gt;EPackage&lt;/code&gt; en paramètre et retourne le nombre de méta-classes d’un de vos méta-modèles&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une fonction qui prend une &lt;code&gt;EClass&lt;/code&gt; en paramètre et retourne les méta-classes qui héritent d’elle dans votre méta-modèle.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_réflexivement_sans_code_généré&#34;&gt;Réflexivement, sans code généré&lt;/h3&gt;
&lt;div class=&#34;sect3&#34;&gt;
&lt;h4 id=&#34;_en_java_avec_emf_2&#34;&gt;En Java avec EMF&lt;/h4&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;La première étape pour pouvoir créer des modèles relatifs à un méta-modèle, il vous faut charger en mémoire un méta-modèle existant à partir d’un fichier &lt;code&gt;.ecore&lt;/code&gt;.
Voilà le fragment de code que vous pouvez utiliser pour charger un modèle ecore/xmi directement en Java :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34;&gt;&lt;code data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nc&#34;&gt;ResourceSet&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;ResourceSetImpl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;rset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getResourceFactoryRegistry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getExtensionToFactoryMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()*&lt;/span&gt;
                                 &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;ecore&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;XMIResourceFactoryImpl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;rset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getResourceFactoryRegistry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getExtensionToFactoryMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()*&lt;/span&gt;
                                 &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;xmi&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;XMIResourceFactoryImpl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
&lt;span class=&#34;nc&#34;&gt;Resource&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;resource&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getResource&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;no&#34;&gt;URI&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;createFileURI&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;path_vers_ecore&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// À partir de là &amp;#34;pack&amp;#34; contient le EPackage de votre méta-modèle&lt;/span&gt;
&lt;span class=&#34;nc&#34;&gt;EPackage&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pack&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;EPackage&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;resource&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getContents&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// Puis pour l&amp;#39;enregistrer&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;rset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getPackageRegistry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pack&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getNsURI&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pack&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Contrairement au snipet Java précédent, vous pouvez noter que cette fois, le code du méta-modèle n’est pas généré, on vient charger le méta-modèle à partir d’un fichier (on le charge en mémoire) et qu’ensuite, on enregistre cette représentation mémoire dans le &lt;code&gt;ResourceSet&lt;/code&gt;.
Vous pouvez maintenant charger un modèle instance du méta-modèle enregistré comme vue précédemment en utilisant ce &lt;code&gt;ResourceSet&lt;/code&gt; correctement paramétré.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect3&#34;&gt;
&lt;h4 id=&#34;_en_python_avec_pyecore_2&#34;&gt;En Python avec PyEcore&lt;/h4&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;L’ouverture d’un modèle &lt;code&gt;.ecore&lt;/code&gt; via PyEcore se fait de plusieurs façons, mais la façon la plus simple est d’utiliser un &lt;code&gt;ResourceSet&lt;/code&gt; :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34;&gt;&lt;code data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pyecore.resources&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ResourceSet&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;rset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ResourceSet&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;resource&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rset&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get_resource&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;path_vers_ecore&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;pack&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;resource&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;contents&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;rset&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;metamodel_registry&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pack&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nsURI&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pack&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Contrairement au snipet Python précédent, vous pouvez noter que cette fois, le code du méta-modèle n’est pas généré, on vient charger le méta-modèle à partir d’un fichier (on le charge en mémoire) et qu’ensuite, on enregistre cette représentation mémoire dans le &lt;code&gt;ResourceSet&lt;/code&gt;.
Vous pouvez maintenant charger un modèle instance du méta-modèle enregistré comme vue précédemment en utilisant ce &lt;code&gt;ResourceSet&lt;/code&gt; correctement paramétré.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_création_modification_de_modèles&#34;&gt;Création, modification de modèles&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Une fois que votre méta-modèle est chargé en mémoire à partir de son &lt;code&gt;.ecore&lt;/code&gt;, vous allez l’utiliser pour créer des petits modèles dans les questions suivantes.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une fonction qui prend en paramètre le nom d’une des méta-classes de votre méta-modèle et qui retourne la méta-classe associée ou &lt;code&gt;null&lt;/code&gt; si la méta-classe n’existe pas.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une fonction qui permet de créer une instance d’un méta-classe dont le &lt;code&gt;EPackage&lt;/code&gt; et le nom de la méta-classe serait passé en paramètre.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une fonction qui prend un &lt;code&gt;EObject&lt;/code&gt; quelconque, une chaine de caractère et qui initialise l’équivalent du nom de l&amp;#39;`EObject` à la valeur passée en paramètre si l’objet en question possède un attribut &lt;code&gt;name&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Testez votre solution avec des instances de votre méta-modèle java, votre méta-modèle de système de fichier et votre méta-modèle de BD. Pour faire ceci :&lt;/p&gt;
&lt;div class=&#34;olist loweralpha&#34;&gt;
&lt;ol class=&#34;loweralpha&#34; type=&#34;a&#34;&gt;
&lt;li&gt;
&lt;p&gt;chargez les trois &lt;code&gt;EPackage&lt;/code&gt; de chaque méta-modèles depuis leur &lt;code&gt;.ecore&lt;/code&gt; dans des variables &lt;code&gt;sjava&lt;/code&gt;, &lt;code&gt;fsystem&lt;/code&gt; et &lt;code&gt;bd&lt;/code&gt; en utilisant le code fournit plus haut relatif à votre langage (celui pour charger un métamodèle depuis un &lt;code&gt;.ecore&lt;/code&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;créez une instance d’un des concepts de vos métamodèles en utilisant votre fonction de création à partir d’un nom de méta-classe&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;initialisez le nom des instances que vous avez créé avec une valeur&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;recherchez reflexivement la valeur du &lt;code&gt;name&lt;/code&gt; de votre objet pour vérifier que la valeur a bien été initialisé pour l’attribut.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_autre_utilisation_de_la_couche_réflexive&#34;&gt;Autre utilisation de la couche réflexive&lt;/h3&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Dans cette partie du TP, vous allez utilisez plus en détail la couche réflexive pour commencer à prendre plus d’aisance avec la manipulation du méta-niveau.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une fonction qui prend un &lt;code&gt;EObject&lt;/code&gt; quelconque et qui affiche à l’écran le nom de chacun de ses attributs/références ainsi que la valeur de chacun des attributs/références.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une fonction qui recherche dans un objet le premier attribut de type chaîne de caractère (type &lt;code&gt;EString&lt;/code&gt;) et qui le modifie pour que le nom devienne &lt;code&gt;id_VALEURAVANT&lt;/code&gt; (ex : pour &lt;code&gt;egg&lt;/code&gt; stocké dans l’attribut &lt;code&gt;nom&lt;/code&gt;, la nouvelle chaîne attribué à &lt;code&gt;nom&lt;/code&gt; sera &lt;code&gt;id_egg&lt;/code&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title></title>
      <link>/courses/metamodelisation/tp3/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/courses/metamodelisation/tp3/</guid>
      <description></description>
    </item>
    
    <item>
      <title></title>
      <link>/courses/metamodelisation/tp4/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/courses/metamodelisation/tp4/</guid>
      <description>&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_note&#34;&gt;Note&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Dans ce TP vous allez coder un algorithme de sérialisation à plat.
Comme pour les précédents TPs, vous avez le choix entre Java et Python.
De manière générale, pour simplifier le parsing, nous allons sérialiser les modèles en JSON selon un schéma de votre choix.
Regardez comment produire et lire du JSON en Java.
En Python, tout est intégré dans la bibliothèque standard, mais en Java, il faudra que vous utilisiez une bibliothèque externe.
Regardez celles qui existent et choisissez celle que vous préférez.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Au TP2, vous avez vu comment lire toutes les informations d’un objet de manière réflexive, cette étape est primordiale pour pouvoir écrire l’algorithme de sérialisation.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_format_des_données_et_méta_information&#34;&gt;Format des données et méta-information&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;La manière dont vous choisissez de sauvegarder les données dépend de vous (pour ce TP, même si vous allez tous produire plus ou moins la même chose), néanmoins, dès que vous allez devoir faire référence à des méta-classes et aux objets en interne, il est important que vous gardiez le même format.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Deux méta-informations vont devoir être conservées lorsque le modèle est sérialisé.
Ces informations sont nécessaires pour indiquer certaines choses sur les données, mais elle ne fait pas directement partie de l’objet.
On parle donc de méta-information, elle est utile, mais pas directement comprise dans les objets.
Ici, deux méta-informations vont être nécessaires :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;ulist&#34;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;un identifiant unique qui sera donné à chaque objet afin de pouvoir le référencer dans le modèle,&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;une référence vers la méta-classe de l’objet.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Concernant l’identifiant, un simple numéro sera suffisant pour référencer les informations à travers le fichier.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Pour la référence à la méta-classe, plutôt que, comme dans XMI, donner juste le nom de la méta-classe et faire référence à un préfix représentant une référence indirecte vers l’URI du méta-modèle dans lequel se trouve la méta-classe en question, vous allez utiliser le format suivant : &lt;code&gt;URI_DU_MM#NOM_DE_LA_MC&lt;/code&gt;.
Si on prend l’exemple de java simplifié, il serait possible de sérialiser un simple objet classe en JSON de la manière suivante :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34;&gt;&lt;code data-lang=&#34;json&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
  &lt;/span&gt;&lt;span class=&#34;nl&#34;&gt;&amp;#34;#id&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
  &lt;/span&gt;&lt;span class=&#34;nl&#34;&gt;&amp;#34;#metaclass&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;http://simplejava/1.0#JavaClass&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
  &lt;/span&gt;&lt;span class=&#34;nl&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;MyClass&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Sur cette exemple, les champs débutant par un &lt;code&gt;#&lt;/code&gt; représentent des méta-informations.
Le champ &lt;code&gt;#metaclass&lt;/code&gt; donne à la fois l’URI du méta-modèle d’où provient la méta-classe et le nom de la méta-classe en elle-même.
Le champ &lt;code&gt;#id&lt;/code&gt; donne un numéro unique pour l’objet qui est sérialisé.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_sérialisation_à_plat&#34;&gt;Sérialisation &amp;#34;à plat&amp;#34;&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Comme nous l’avons vu en cours, la sérialisation à plat repose sur le fait que tous les éléments sont sauvegardés de manière textuelle dans l’équivalent d’une grande liste.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Pour écrire la sérialisation, voilà les questions que vous devez vous poser :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Quelles informations dois-je sauvegarder ?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Dois-je traiter les attributs et références de manières différentes ?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Comment dois-je gérer les relations many ? Et les relations &amp;#34;opposites&amp;#34; ?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Comment dois-je faire référence à un objet au sein du fichier ?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Est-il possible d’éviter de sauvegarder certaines informations ?&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_sil_vous_reste_du_temps&#34;&gt;S’il vous reste du temps&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Vous pouvez essayer d’écrire un algorithme de désérialisation.
Ces algos sont beaucoup moins triviaux à écrire que ceux de la sérialisation comme il faut à la fois lire les données du fichier et lier chaque élément lu avec une méta-classe afin d’en créer une instance.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Quelle information du fichier sérialisé va donner l’indication sur le méta-modèle à utiliser ? À partir de quel objet peut-on trouver le méta-modèle correspondant ?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une classe qui va représenter le désérialiseur.&lt;/p&gt;
&lt;div class=&#34;olist loweralpha&#34;&gt;
&lt;ol class=&#34;loweralpha&#34; type=&#34;a&#34;&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une fonction qui, étant donné cette information est capable de retrouver le méta-modèle à utiliser.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une fonction qui, étant donné un nom de méta-classe est capable de retrouver la méta-classe depuis le méta-modèle&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une fonction qui est capable de créer une instance de cette méta-classe, de lire les informations de l’objet depuis le fichier&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title></title>
      <link>/courses/metamodelisation/tp5/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/courses/metamodelisation/tp5/</guid>
      <description>&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_note_et_pré_requis&#34;&gt;Note et pré-requis&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Le but de ce TP va être de produire plusieurs petites transformations de modèles, basées sur les méta-modèles que vous avez pu développer ainsi qu’un moteur de chaînes de transformations MDE-based.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Ce TP, un peu plus long que les autres, est à faire en utilisant Python, pour des raisons techniques.
Les moteurs de transformations de modèles utilisant les technologies EMF-Java (ex: ATL, QVTo, Epsilon, Acceleo), sont bien établies et fonctionnent très bien lorsqu’on les utilise de manière localisées, mais leur usage est parfois très lourd : configurations complexes, interfaçage avec divers moteurs complexes, chaînage de transformations complexes à mettre en oeuvre et usage en dehors d’Eclipse vraiment compliqué et pénible.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;dlist&#34;&gt;
&lt;dl&gt;
&lt;dt class=&#34;hdlist1&#34;&gt;Pré-requis&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Si vous n’avez pas travaillé en Python en premier lieux, assurez-vous d’avoir bien les méta-modèles au format &lt;code&gt;.ecore&lt;/code&gt; pour ce TP, il faudra générer les méta-modèle PyEcore à partir d’eux. Aussi, créez un virtualenv dédié pour ce TPs (environnement virtuel Python pour installer des dépendances sans bouleverser votre système).&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_génération_du_code_des_méta_modèles&#34;&gt;Génération du code des méta-modèles&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Si vous avez le code des méta-modèles déjà générés en Python, vous pouvez sauter cette étape et passer directement à la prochaine section.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Si vous n’avez pas le code des méta-modèles en Python, il est nécessaire de les générer.
Pour faire ça, dans un premier temps, il est intéressant de créer un environnement virtuel.
Pour créer un environnement virtuel :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;placez-vous dans votre répertoire de travail (celui de votre repository) et tapez la commande suivante : &lt;code&gt;$ virtualenv venv&lt;/code&gt;. Cela va créer un environnement virtuel dans le répertoire &lt;code&gt;venv&lt;/code&gt; que vous pourrez activez quand vous voulez.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Avant d’activer votre environnement virtuel, ajoutez le répertoire &lt;code&gt;venv&lt;/code&gt; à votre &lt;code&gt;.gitignore&lt;/code&gt; pour ne pas le commiter&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Activez votre environnement virtuel de la manière suivante : &lt;code&gt;source venv/bin/activate&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Vous pouvez maintenant installer les outils nécessaires pour méta-modéliser et travailler avec Ecore de la manière suivante :&lt;br/&gt;
&lt;code&gt;$ pip install pyecore pyecoregen&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_transformations_de_modèles_avec_motra&#34;&gt;Transformations de modèles avec Motra&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;L’année passée vous avez manipulé des transformations de modèles type ATL ou, très certainement, QVTo.
Ces langages de transformations reposent sur OCL pour la navigation dans les modèles et rajoutent des concepts pour la création/modification/suppression d’éléments dans les modèles manipulés.
Dans ce TP, vous allez utiliser un nouveau type de langage qui n’est pas, comme ATL, QVT…​ un DSL externe, mais un DSL interne à Python nommé Motra (pour MOdel TRAnsformation).
Ce DSL repose entièrement sur Python en étendant, d’une certaine manière, le langage et en proposant une sémantique proche de QVTo.
Motra est toujours considéré comme expérimental, donc si vous trouvez des soucis, n’hésitez pas à nous les remonter directement ou à écrire une issue détaillée sur github.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Activez votre virtualenv et installez la librairie : &lt;code&gt;$ pip install motra&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Regardez les quelques exemples donnés directement sur le repository : &lt;a href=&#34;https://github.com/pyecore/motra/tree/main/examples/m2m&#34; class=&#34;bare&#34;&gt;https://github.com/pyecore/motra/tree/main/examples/m2m&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Vous allez maintenant écrire plusieurs petites transformations qui seront des transformations &amp;#34;sur-place&amp;#34; et &amp;#34;exogènes&amp;#34;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_transformation_sur_votre_meta_modèle_de_bd&#34;&gt;Transformation sur votre meta-modèle de BD&lt;/h3&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une transformation qui transforme le nom de toutes les tables de camel case vers snake case majuscule (ex: &lt;code&gt;MyTable&lt;/code&gt; deviendra &lt;code&gt;MY_TABLE&lt;/code&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Écrivez&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_transformations_sur_simplejava&#34;&gt;Transformations sur &lt;code&gt;simplejava&lt;/code&gt;&lt;/h3&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une transformation qui ajoute un attribut &lt;code&gt;id&lt;/code&gt; de type &lt;code&gt;String&lt;/code&gt; pour chaque objets. Attention à n’introduire l’attribut que pour les classes qui n’héritent d’aucune autre. S’il existe déjà dans la classe un attribut qui commence par &lt;code&gt;id_&lt;/code&gt; ou qui s’appelle &lt;code&gt;id&lt;/code&gt;, alors la transformation n’ajoutera pas de nouveau l’élément.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une transformation qui introduit une interface commune possédant une méthode &lt;code&gt;getUUID()&lt;/code&gt; à tout les objets. Attention à n’introduire l’interface que pour les classes qui n’héritent d’aucune autre.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une transformation qui détecte les hiérarchies de classes (arbres d’héritages) et qui rajoute au modèle l’équivalent d’une factory, c’est-à-dire, une classe qui possède une méthode pour créer une instance de chaque classe non abstraite de l’arbre d’héritage découvert.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_transformation_de_simplejava_vers_votre_méta_modèle_de_bd&#34;&gt;Transformation de &lt;code&gt;simplejava&lt;/code&gt; vers votre méta-modèle de BD&lt;/h3&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Vous allez maintenant écrire une transformation qui permet de passer d’un modèle simple Java vers un modèle de base de donnée.
Voilà les questions à vous poser :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;ulist&#34;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Quels sont les éléments à traduire ?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Quelle va être la traduction d’une classe ?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Quelle va être la traduction d’un attribut ?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Comment gérer l’héritage ?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Comment déterminer une clef primaire depuis une classe Java ?&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Puis, une fois que vous avez des réponses plutôt précises à ces questions :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Écrivez la transformation pour passer d’un modèle Java à un modèle de base de données.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_transformation_de_simplejava_vers_votre_méta_modèle_de_système_de_fichiers&#34;&gt;Transformation de &lt;code&gt;simplejava&lt;/code&gt; vers votre méta-modèle de système de fichiers&lt;/h3&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Comme précédemment, les mêmes questions se posent :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;ulist&#34;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Quels sont les éléments à traduire ?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Quelle va être la traduction d’un package ?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Quelle va être la traduction d’une classe ?&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Puis, une fois que vous avez des réponses plutôt précises à ces questions :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Écrivez la transformation pour passer d’un modèle Java à un modèle de système de fichiers.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_un_moteur_de_chaîne_de_transformations&#34;&gt;Un moteur de chaîne de transformations&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Vous allez développer ici un moteur de chaîne de transformations et expérimenter avec les transformations que vous avez écrites avant.
Pour modéliser le moteur de chaîne, vous allez modéliser dans un premier temps un méta-modèle Ecore de chaîne de transformations.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_une_chaîne_simplifiée_de_transformations&#34;&gt;Une chaîne simplifiée de transformations&lt;/h3&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Une chaîne de transformations est composée de plusieurs opérations.
Ces opérations peuvent être des transformations de modèles (M2M et M2T) ou une opération de sauvegarde de modèle vers un chemin en particulier.
Chaque opération possède une relation vers la chaîne qui la contient.
Chaque opération possède une méthode &lt;code&gt;execute&lt;/code&gt; qui prend exactement un paramètre, le modèle sur lequel va s’appliquer l’opération et qui retourne le nouveau modèle.
Chaque transformation est liée à une transformation Motra (modélisée par un attribut vers un &lt;code&gt;EJavaObject&lt;/code&gt; qui sera traduit vers une relation vers un objet Python natif lors de la génération).
Finalement, la chaîne en elle-même possède une méthode &lt;code&gt;run&lt;/code&gt; qui prend en paramètre un chemin vers un fichier et qui retourne le résultat de la dernière opération exécutée.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Modélisez le méta-modèle de chaîne de transformations au format Ecore en utilisant le &amp;#34;ecore diagram tool&amp;#34; sous Eclipse. Pour simplifier les prochaines opérations, utilisez ces valeurs pour le package racine de votre méta-modèle : &lt;code&gt;name=chainengine&lt;/code&gt;, &lt;code&gt;nsPrefix=chainengine&lt;/code&gt;, &lt;code&gt;nsURI=http://chainengine/1.0&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Une fois que vous avez modélisé votre méta-modèle de chaîne, utilisez la ligne suivante pour générer le code du méta-modèle :&lt;br/&gt;
&lt;code&gt;$ pyecoregen -e votre_metamodel.ecore -o . --user-module chainengine.mixins&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Copiez le fichier de mixins généré avec cette commande : &lt;code&gt;$ cp chainengine/chainengine_mixins.py.skeleton chainengine/mixins.py&lt;/code&gt;. Vous allez écrire le code des méthodes &lt;code&gt;execute&lt;/code&gt; et &lt;code&gt;run&lt;/code&gt; directement dans ce fichier &lt;code&gt;chainengine/mixins.py&lt;/code&gt;, cela évitera, si vous générez plusieurs fois le code de votre méta-modèle, d’écraser le code que vous avez écrit.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Voici un exemple de comment vous pouvez décrire maintenant une chaîne de transformations (pour un méta-modèle, si vous avez modélisé les choses autrement, vous aurez un autre code) :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34;&gt;&lt;code data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;chainengine&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;transfos&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;t1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;t2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;t3&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# on suppose plusieurs transformations
&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;chain&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Chain&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;first_chain&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;chain&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;operations&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;M2M&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;transformation&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;t1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;chain&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;operations&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;M2M&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;transformation&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;t2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;chain&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;operations&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SaveModel&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;intermediaire.xmi&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;chain&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;operations&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;M2M&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;transformation&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;t1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;chain&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;operations&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;M2M&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;transformation&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;t3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;chain&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;operations&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SaveModel&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;final.xmi&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)))&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;chain&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;run&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;mon_modele.xmi&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Actuellement, si vous exécutez ce code, vous allez récupérer une exception vous disant que votre code pour les méthodes &lt;code&gt;run&lt;/code&gt; et &lt;code&gt;execute&lt;/code&gt; ne sont pas encore implémentées.
C’est ce que vous allez faire maintenant, mais avant ça, il est nécessaire de comprendre un peu comment Motra lance les transformations, ce qu’il attend en paramètre et ce qu’il retourne.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;sect3&#34;&gt;
&lt;h4 id=&#34;_motra_paramètre_dentrée_de_sorties_et_un_resourceset_unique&#34;&gt;Motra, paramètre d’entrée, de sorties et un &lt;code&gt;ResourceSet&lt;/code&gt; unique&lt;/h4&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Lorsque vous avez codé une transformation avec Motra, vous pouvez la lancer de la manière suivante :&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34;&gt;&lt;code data-lang=&#34;python&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pyecore.resources&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ResourceSet&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;matransfo&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;t&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# import de la transformation
&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# En considérant que &amp;#34;t&amp;#34; est définie comme t [in_model, out_model]
&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ResourceSet&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;run&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;in_model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;path_to_model.xmi&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;resource_set&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rset&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Il est important de noter que pour lancer la transformation, le nom du modèle d’entrée spécifié lors de la transformation doit-être utilisé.
Il faut aussi noter que tout au long de la transformation, il faudra gérer une même instance de &lt;code&gt;ResourceSet&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Au début de la méthode &lt;code&gt;run&lt;/code&gt; de votre chaîne, ajouter un attribut d’instance &lt;code&gt;resource_set&lt;/code&gt; initialisé avec une nouvelle instance de &lt;code&gt;ResourceSet&lt;/code&gt;. Cette instance pourra être récupérée par toutes les opérations si elles en ont besoin.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;À la fin de la méthode &lt;code&gt;run&lt;/code&gt; de votre chaîne, affectez la valeur &lt;code&gt;None&lt;/code&gt; à votre attribut d’instance &lt;code&gt;resource_set&lt;/code&gt;. Cela marque le fait qu’une fois que l’exécution de la chaine est terminée, cet attribut n’a plus de raison d’avoir une valeur non-nulle.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Vous allez coder maintenant les méthodes &lt;code&gt;execute&lt;/code&gt; pour chacune des opérations.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Écrivez la méthode &lt;code&gt;execute&lt;/code&gt; de l’opération de sauvegarde de modèle. Pour rappel, cette méthode reçoit en paramètre la resource représentant le modèle qui doit être sauvegardé, doit sauvegarder le modèle (en utilisant la méthode &lt;code&gt;save(output=…​)&lt;/code&gt; de la resource), puis retourner la resource passée en paramètre.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Écrivez la méthode &lt;code&gt;execute&lt;/code&gt; de l’opération d’exécution d’une transformation de modèle. Cette méthode doit :&lt;br/&gt;&lt;/p&gt;
&lt;div class=&#34;olist loweralpha&#34;&gt;
&lt;ol class=&#34;loweralpha&#34; type=&#34;a&#34;&gt;
&lt;li&gt;
&lt;p&gt;prendre en paramètre un modèle,&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;demander à la transformation le nom de son paramètre d’entrée (récupérable par en utilisant le premier élément de la collection &lt;code&gt;input_defs[0]&lt;/code&gt;),&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;construire un dictionnaire avec comme clé le nom du paramètre d’entrée et en valeur associé le paramètre d’entrée de la méthode,&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;récupérer le &lt;code&gt;ResourceSet&lt;/code&gt; de la chaîne,&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;exécuter la transformation associé à l’opération avec en paramètre, le resource set récupéré et le dictionnaire que vous avez construit expand avec l’opérateur &lt;code&gt;**&lt;/code&gt;. Cela signifie que si votre dictionnaire s’appelle &lt;code&gt;input_dict&lt;/code&gt; et votre resource set stocké dans une variable &lt;code&gt;rset&lt;/code&gt;, les paramètres passés à l’appel devront être &lt;code&gt;(resource_set=rset, **input_dict)&lt;/code&gt;,&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;récupérer le résultat de l’exécution&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;retourner le premier modèle de sortie de la transformation, récupérable via l’attribut &lt;code&gt;outputs[0]&lt;/code&gt; du résultat de l’exécution&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;À l’issue de ces 2 méthodes, vous avez presque fini l’écriture de votre moteur de chaîne, il ne vous reste plus qu’à coder le corps de la fonction qui va vous servir à lancer le tout.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Écrivez la méthode &lt;code&gt;run&lt;/code&gt; de votre chaîne. Cette méthode va tout simplement itérer sur toutes les opérations de votre chaîne et passer le résultat de chaque appels comme paramètre de la prochaine opération.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Utilisez votre moteur de chaîne pour décrire plusieurs chaînes de transformations en composant avec les transformations que vous avez codé précédemment, ou en utilisant les transformations codées par vos camarade, si vous êtes certains que vous avez des méta-modèles compatibles&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_vers_une_fluent_api_pour_la_création_de_chaînes&#34;&gt;Vers une fluent-API pour la création de chaînes&lt;/h3&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Avec votre moteur de chaînes, vous êtes en mesure de créer des chaînes complexes et d’observer comment les transformations peuvent-être réutilisés et l’impact du chaînage sur les modèles.
Cependant, vous pouvez remarquer que la description d’un modèle de chaînes est un peu pénible.
Ici, vous allez implémenter une fluent-API qui va vous permettre de modéliser plus facilement des chaînes.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Les fluent-API sont des APIs proposés pour simplifier l’utilisation de bibliothèques en donnant une abstraction qui permet de très facilement chaîner plusieurs appels pour écrire une &amp;#34;longue phrase&amp;#34; plutôt que plusieurs lignes.
C’est, par exemple, le cas de l’API de stream de Java et, plus généralement, pour implémenter les patterns builder.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Pour faire ceci, vous allez implémenter, dans un module Python séparé (un autre fichier Python), une classe qui servira de point d’entrée pour la création de chaînes.
Vous nommerez cette classe comme vous voulez, mais voilà à quoi devrait ressembler ce que vous pourrez exprimer une fois que votre fluent-API aura été codée (ici nommé ChainBuilder):&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34;&gt;&lt;code data-lang=&#34;python&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Les parenthèses de début et fin ne sont là que pour pouvoir écrire le code sur
# plusieurs lignes
&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ChainBuilder&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;first_chain&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;m2m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;t1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;m2m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;t2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;save&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;intermediaire.xmi&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;m2m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;t1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;m2m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;t3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;save&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;final.xmi&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;run&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;mon_modele.xmi&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une classe permettant de définir une Fluent-API pour votre moteur de chaine.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Utilisez votre nouvelle API pour décrire plusieurs chaines de transformations en composant avec les transformations que vous avez codé précédemment, ou en utilisant les transformations codées par vos camarade, si vous êtes certains que vous avez des méta-modèles compatibles&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title></title>
      <link>/courses/metamodelisation/tp6/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/courses/metamodelisation/tp6/</guid>
      <description>&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_note&#34;&gt;Note&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Dans ce TP, vous allez mettre manipuler un type de modèle un peu différent de ceux que vous avez manipulé pendant les TPs précédent.
Cette fois, vous n’utiliserez pas EMF ou PyEcore, mais vous vous allez manipuler directement le méta-modèle Java pour extraire de l’information, générer du code ou coder des fonctions utilitaires.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_méta_niveau_en_java&#34;&gt;Méta-niveau en Java&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;La manipulation du méta-niveau en Java est moins aisé qu’en Python, elle est aussi beaucoup moins permissive.
Néanmoins, elle permet de faire des choses assez avancée.
À travers les questions suivantes, vous allez écrire l’équivalent d’une classe qui va permettre de builder des instances d’objets quelconque, du moment que les attributs sont des attributs primitifs (chaînes de caractères, entiers, …​).
Avant ça, quelques fonctions pour vous mettre un poil à l’aise avec une partie de l’API reflexive de Java.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une fonction qui prend une instance et qui retourne dans une map le nom et le type de tout ses attributs d’instances.&lt;/p&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une fonction qui prend une classe et qui affiche son nom, ainsi que le nom de toutes ses super-classes en suivant l’arbre d’héritage.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une méthode static &lt;code&gt;getAllFields()&lt;/code&gt;  qui prend une classe en paramètre et qui retourne une liste de toute ses &lt;code&gt;Field&lt;/code&gt;, direct et hérités (la méthode &lt;code&gt;.getDeclaredFields()&lt;/code&gt;) ne retourne que les fields de la classe, pas de ses super-classes.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une fonction qui prend un objet en paramètre et qui retourne dans une map la valeur de tout les attributs de cette instance. Pour accéder à la valeur d’un champ, il faut demander à l’instance de &lt;code&gt;Field&lt;/code&gt; (représentant l’attribut), sa valeur sur un object en particulier en utilisant la méthode &lt;code&gt;.get(Object o)&lt;/code&gt;. Pour accéder aux champs privés d’un objet, il est nécessaire, avant d’y accéder, de changer son accéssibilité avec la méthode &lt;code&gt;.setAccessible(true)&lt;/code&gt;. &lt;em&gt;Note&lt;/em&gt;: vous n’allez pas forcément vous servir de la fonction écrite précédemment.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Maintenant que vous savez manipuler un peu mieux le méta-niveau, vous allez écrire un classe spéciale &lt;code&gt;Instance&lt;/code&gt; qui va représenter une instance. Cette classe possède 2 champs :
* un champ &lt;code&gt;_class&lt;/code&gt; de type &lt;code&gt;String&lt;/code&gt; qui va représenter le type de l’instance,
* un champ &lt;code&gt;attributes&lt;/code&gt; de type &lt;code&gt;Map&amp;lt;String, String&amp;gt;&lt;/code&gt; qui va représenter le dictionnaire de toutes les valeurs des instances.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une telle classe&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une méthode statique dans votre classe &lt;code&gt;Instance&lt;/code&gt; qui prend une instance quelconque et qui retourne une instance de votre classe &lt;code&gt;Instance&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Maintenant que le travail est fait dans un sens (instance vers &lt;code&gt;Instance&lt;/code&gt;), vous allez faire le travail inverse, soit prendre une instance de &lt;code&gt;Instance&lt;/code&gt; et recréer une instance de la véritable classe qu’il représente.
Dans un premier temps, vous allez écrire plusieurs méthode utilitaires.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une méthode &lt;code&gt;Field findField(Class&amp;lt;?&amp;gt; cls, String name)&lt;/code&gt; qui cherche dans la liste de tout les attributs de la classe &lt;code&gt;cls&lt;/code&gt; le &lt;code&gt;Field&lt;/code&gt; associé au nom &lt;code&gt;name&lt;/code&gt;. Cette méthode lèvera l’exception &lt;code&gt;NoSuchFieldException&lt;/code&gt; si le champ n’existe pas. &lt;em&gt;Note&lt;/em&gt; : utilisez la méthode &lt;code&gt;getAllFields&lt;/code&gt; que vous avez déjà codé pour vous aider.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Si vous avez suivit, vous savez que les valeurs des attributs sont représentés dans &lt;code&gt;Instance&lt;/code&gt; comme des &lt;code&gt;String&lt;/code&gt;.
Il faut donc un moyen de parser ces strings en objets natif.
Pour faire ceci, vous allez écrire une méthode générique qui va automatiquement appeler la bonne méthode de traduction en fonction du nom et du type de l’attribut à parser.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une méthode &lt;code&gt;Object parse(Field f, String s)&lt;/code&gt; qui prend le champ représentant l’attribut, ainsi que la chaîne de caractère représentant la valeur du champ et qui retourne la valeur native Java de l’attribut (par exemple, la méthode retournera la valeur entière &lt;code&gt;3&lt;/code&gt; pour la chaîne de caractère &lt;code&gt;&amp;#34;3&amp;#34;&lt;/code&gt; si le champ est un champ de type &lt;code&gt;int&lt;/code&gt; ).
Pour faire ceci de manière générique, vous allez suivre les étapes suivantes:&lt;/p&gt;
&lt;div class=&#34;olist loweralpha&#34;&gt;
&lt;ol class=&#34;loweralpha&#34; type=&#34;a&#34;&gt;
&lt;li&gt;
&lt;p&gt;Récupérez à l’aide de la méthode &lt;code&gt;getDeclaredMethod(…​, …​)&lt;/code&gt; la méthode qui porte le nom &lt;code&gt;parse_NOMDUTYPE&lt;/code&gt; ou &lt;code&gt;NOMDUTYPE&lt;/code&gt; est remplacé par le nom du type du &lt;code&gt;Field&lt;/code&gt;. La méthode &lt;code&gt;getDeclaredMethod&lt;/code&gt; attend au moins 2 paramètres, le nom de la méthode, et le type des paramètres de la méthode à rechercher. Par exemple, pour un &lt;code&gt;Field&lt;/code&gt; de type &lt;code&gt;int&lt;/code&gt;, le nom de la méthode à chercher sera &lt;code&gt;parse_int&lt;/code&gt; et le paramètre de la méthode uniquement un &lt;code&gt;String&lt;/code&gt;. Pour rechercher une telle méthode, votre code ressemblera à ça :&lt;br/&gt;
&lt;code&gt;Method m = this.getClass().getDeclaredMethod(&amp;#34;parse_int&amp;#34;, String.class);&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Une fois que vous avez la méthode, invoquez là sur votre propre instance avec la chaîne à traduire:&lt;br/&gt;
&lt;code&gt;m.invoke(this, s)&lt;/code&gt; et retourner la valeur.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Cette fonction est générique et va automatiquement rechercher la bonne fonction en fonction du type définit du champ.
Cependant, pour que cette fonction marche, il est impératif de coder les méthodes associés (&lt;code&gt;parse_int&lt;/code&gt;, &lt;code&gt;parse_float&lt;/code&gt;, …​) dans votre classe &lt;code&gt;Instance&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Écrivez les différentes fonctions &lt;code&gt;parse_int&lt;/code&gt;…​etc pour les types primitifs de Java&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Écrivez une méthode &lt;code&gt;create()&lt;/code&gt; dans la classe &lt;code&gt;Instance&lt;/code&gt; qui créé une véritable instance de la classe que vous avez donné comme paramètre &lt;code&gt;_class&lt;/code&gt; de votre instance d&amp;#39;`Instance` et qui initialise tout les attributs d’instances. &lt;em&gt;Note&lt;/em&gt; : pour trouver une véritable classe à partir de son nom, il faut passer par le &lt;code&gt;ClassLoader&lt;/code&gt; qui est accessible via n’importe quelle classe en utilisant : &lt;code&gt;.getClassLoader()&lt;/code&gt; puis la méthode &lt;code&gt;.loadClass(…​)&lt;/code&gt; qui prend en paramètre la &lt;code&gt;String&lt;/code&gt; représentant le nom de la classe. La recette à suivre est la suivante :&lt;/p&gt;
&lt;div class=&#34;olist loweralpha&#34;&gt;
&lt;ol class=&#34;loweralpha&#34; type=&#34;a&#34;&gt;
&lt;li&gt;
&lt;p&gt;Récupérez le class loader&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;À l’aide du class loader, récupérez la classe qui porte le nom du champ &lt;code&gt;_class&lt;/code&gt; de votre &lt;code&gt;Instance&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Récupérez le premier constructeur de la classe que vous avez récupéré (&lt;code&gt;.getConstructors()&lt;/code&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Depuis ce constructeur, créez une instance (&lt;code&gt;.newInstance()&lt;/code&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Itérez sur toutes les entrées de votre table &lt;code&gt;attributes&lt;/code&gt; et pour chaque entrée:&lt;/p&gt;
&lt;div class=&#34;olist lowerroman&#34;&gt;
&lt;ol class=&#34;lowerroman&#34; type=&#34;i&#34;&gt;
&lt;li&gt;
&lt;p&gt;Utilisez la clé de l’entrée pour récupérez le &lt;code&gt;Field&lt;/code&gt; dans la classe que vous avez récupéré&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Parsez la value de l’entrée&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Indiquez que le field est accessible (&lt;code&gt;.setAccessible(true)&lt;/code&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Initialisez la valeur du field avec la valeur que vous avez parsé.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Si votre code des correct, en considérant les classes suivantes, voilà comment vous devriez pouvoir utiliser tout votre code.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34;&gt;&lt;code data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;B&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
	&lt;span class=&#34;kd&#34;&gt;protected&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

  &lt;span class=&#34;c1&#34;&gt;// and accessors&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;A&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;extends&lt;/span&gt; &lt;span class=&#34;no&#34;&gt;B&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;z&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

  &lt;span class=&#34;c1&#34;&gt;// and accessors&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;MyMain&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;no&#34;&gt;A&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;no&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;nc&#34;&gt;Instance&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Instance&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;convert&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;no&#34;&gt;A&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;no&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;create&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;assert&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getX&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getX&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;assert&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;assert&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getZ&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getZ&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;

    &lt;span class=&#34;nc&#34;&gt;Instance&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Instance&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;i2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;set_class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;toto.titi.B&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// Nom plainement qualifié nécessaire&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;i2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setX&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;i2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;no&#34;&gt;B&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;no&#34;&gt;B&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;create&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;assert&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getX&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;assert&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
  </channel>
</rss>
